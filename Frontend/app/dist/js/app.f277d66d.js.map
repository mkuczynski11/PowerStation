{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4a62","webpack:///./src/App.vue?a5e5","webpack:///./src/components/Navbar.vue?94c9","webpack:///src/components/Navbar.vue","webpack:///./src/components/Navbar.vue?6c87","webpack:///./src/components/Navbar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue?315a","webpack:///./src/views/Home.vue?73f2","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?73d4","webpack:///./src/views/Home.vue","webpack:///./src/views/Sensors.vue?6e38","webpack:///./src/api/api.js","webpack:///src/views/Sensors.vue","webpack:///./src/views/Sensors.vue?be05","webpack:///./src/views/Sensors.vue","webpack:///./src/views/Orders.vue?3bab","webpack:///src/views/Orders.vue","webpack:///./src/views/Orders.vue?5b73","webpack:///./src/views/Orders.vue","webpack:///./src/views/Invoices.vue?bc42","webpack:///src/views/Invoices.vue","webpack:///./src/views/Invoices.vue?368a","webpack:///./src/views/Invoices.vue","webpack:///./src/views/ManagementPanel.vue?cced","webpack:///src/views/ManagementPanel.vue","webpack:///./src/views/ManagementPanel.vue?eec0","webpack:///./src/views/ManagementPanel.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticRenderFns","_l","pathElement","path","isCurrent","on","$event","changeView","_v","_s","PATHS","created","setActiveRoute","methods","$router","component","components","sensorType","currentSensorType","changeActiveSensorType","label","model","callback","$$v","filter","expression","active","toggleFilter","pageOptions","perPage","totalRows","currentPage","fields","itemsToDisplay","chosenFilters","onFiltered","scopedSlots","_u","fn","proxy","_e","downloadJSON","downloadCSV","openPlotModal","itemsAfterFiltering","staticStyle","ref","closePlotModal","chartOptions","chartData","axios","require","default","API_URL","getSensorData","params","console","log","parsedParams","then","response","res","getBooks","getBooksPrices","getBooksDiscounts","getShippingMethods","createOrder","order","book","post","BookID","id","BookName","BookQuantity","quantity","BookPrice","unitPrice","BookDiscount","discount","DeliveryMethod","deliveryMethod","method","DeliveryPrice","price","headers","createBook","parseFloat","parseInt","createShipping","Method","Price","deleteShippingMethod","delete","updateBookInWarehouse","put","ID","updateBookPrice","updateBookDiscount","confirmOrder","cancelOrder","getOrderStatus","payInvoice","invoice","LineChart","sensors","items","SENSOR_TYPES","SENSOR_FIELDS","filters","FILTERS","sensorsLoaded","labels","datasets","responsive","maintainAspectRatio","form","dataToPlot","shippingMethods","chosenShippingMethod","filteredItems","url","URL","createObjectURL","blob","pom","document","createElement","href","setAttribute","click","timestampToDate","date","toLocaleString","initializeSensorItems","includes","indexOf","forEach","$bvModal","show","hide","validForm","item","bookName","totalPrice","status","openOrderCancellationForm","openOrderConfirmationForm","closeOrderConfirmationForm","closeOrderCancellationForm","orders","ORDER_FIELDS","ordersLoaded","orderToConfirm","mounted","parseOrders","openInvoiceConfirmationForm","closeInvoiceConfirmationForm","invoices","INVOICE_FIELDS","invoicesLoaded","invoiceToPay","parseInvoices","openBookCreationForm","bookItems","row","detailsShowing","toggleDetails","bookBaseItems","find","$set","bookChangesInvalid","saveBookChanges","closeBookCreationForm","validBookForm","bookCreationForm","openShippingCreationForm","shippingFields","shippingItems","deleteShipping","closeShippingCreationForm","validShippingForm","shippingCreationForm","books","BOOK_FIELDS","SHIPPING_FIELDS","booksLoaded","shippingMethodsLoaded","bookToReserve","Vue","use","VueRouter","routes","Home","Sensors","Orders","router","config","productionTip","BootstrapVue","$orders","$confirmedOrders","$paidOrders","render","h","App","$mount"],"mappings":"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","file":"js/app.f277d66d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Navbar',{staticClass:\"py-4\"}),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-button-group',_vm._l((_vm.PATHS),function(pathElement){return _c('b-button',{key:pathElement.path,attrs:{\"variant\":pathElement.isCurrent ? 'warning' : 'light'},on:{\"click\":function($event){return _vm.changeView(pathElement)}}},[_vm._v(\" \"+_vm._s(pathElement.name)+\" \")])}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-button-group>\n    <b-button\n      v-for=\"pathElement in PATHS\"\n      :key=\"pathElement.path\"\n      :variant=\"pathElement.isCurrent ? 'warning' : 'light'\"\n      @click=\"changeView(pathElement)\"\n    >\n      {{ pathElement.name }}\n    </b-button>\n  </b-button-group>\n</template>\n\n<script>\n\nconst PATHS = [\n  {\n    path: \"/\",\n    name: \"Home\",\n    isCurrent: false,\n  },\n  {\n    path: \"/sensors\",\n    name: \"Sensors\",\n    isCurrent: false,\n  },\n  {\n    path: \"/dashboard\",\n    name: \"Dashboard\",\n    isCurrent: false,\n  },\n];\n\nexport default {\n  name: \"Navbar\",\n\n  data: function () {\n    return {\n      PATHS,\n    };\n  },\n\n  created() {\n    this.setActiveRoute();\n  },\n\n  methods: {\n    changeView(pathElement) {\n      for (let path of this.PATHS) {\n        path.isCurrent = false;\n      }\n      pathElement.isCurrent = true;\n      this.$router.push(pathElement.path);\n      this.setActiveRoute();\n    },\n\n    setActiveRoute() {\n      for (let path of this.PATHS) {\n        if (path.path == this.$router.currentRoute.path) {\n          path.isCurrent = true;\n          break;\n        }\n      }\n    }\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Navbar.vue?vue&type=template&id=0dc29398&\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <Navbar class=\"py-4\"/>\n    <router-view/>\n  </div>\n</template>\n\n<script>\nimport Navbar from './components/Navbar.vue';\n\nexport default {\n  name: 'App',\n  components: {Navbar},\n  methods: {\n\n  }\n}\n</script>\n\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\n#nav {\n  padding: 30px;\n}\n\n#nav a {\n  font-weight: bold;\n  color: #2c3e50;\n}\n\n#nav a.router-link-exact-active {\n  color: #42b983;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3961ca1c&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('b-container',[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"2\"}}),_c('b-col',{attrs:{\"cols\":\"8\"}},[_c('b-card',[_c('h4',[_vm._v(\"Welcome to our Library!\")]),_c('hr'),_c('h5',[_vm._v(\"In the \"),_c('i',[_vm._v(\"Książki\")]),_vm._v(\" tab You may find list of all the books available for purchase.\")]),_c('h5',[_c('i',[_vm._v(\"Zamówienia\")]),_vm._v(\" tab contains all the orders placed in the previous tab, with some most important info about them.\")]),_c('h5',[_vm._v(\"In the last tab \"),_c('i',[_vm._v(\"Faktury\")]),_vm._v(\" You may find invoices for only the confirmed orders, regardless of whether they were paid or not.\")])])],1),_c('b-col',{attrs:{\"cols\":\"2\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home\">\n    <b-container>\n      <b-row> \n        <b-col cols=\"2\"></b-col>\n        <b-col cols=\"8\">\n          <b-card>\n            <h4>Welcome to our Library!</h4>\n            <hr/>\n            <h5>In the <i>Książki</i> tab You may find list of all the books available for purchase.</h5>\n            <h5><i>Zamówienia</i> tab contains all the orders placed in the previous tab, with some most important info about them.</h5>\n            <h5>In the last tab <i>Faktury</i> You may find invoices for only the confirmed orders, regardless of whether they were paid or not.</h5>\n          </b-card>\n        </b-col>\n        <b-col cols=\"2\"></b-col>\n      </b-row>\n    </b-container>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Home\",\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=0ff9da18&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"2\"}}),_c('b-col',{attrs:{\"cols\":\"8\"}},[_c('b-button-group',_vm._l((_vm.SENSOR_TYPES),function(sensorType){return _c('b-button',{key:sensorType.name,attrs:{\"variant\":sensorType.name == _vm.currentSensorType.name ? 'info' : 'light'},on:{\"click\":function($event){return _vm.changeActiveSensorType(sensorType)}}},[_vm._v(\" \"+_vm._s(sensorType.label)+\" \")])}),1)],1),_c('b-col',{attrs:{\"cols\":\"2\"}})],1),_c('b-row',{staticClass:\"mt-4\"},[_c('b-col',{attrs:{\"cols\":\"2\"}}),_c('b-col',{attrs:{\"cols\":\"8\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Filter\",\"label-for\":\"filter-input\",\"label-cols-sm\":\"3\",\"label-align-sm\":\"right\",\"label-size\":\"sm\"}},[_c('b-input-group',{attrs:{\"size\":\"sm\"}},[_c('b-form-input',{attrs:{\"id\":\"filter-input\",\"type\":\"search\",\"placeholder\":\"Type to Search\"},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"disabled\":!_vm.filter},on:{\"click\":function($event){_vm.filter = ''}}},[_vm._v(\"Clear\")])],1)],1)],1)],1),_c('b-col',{attrs:{\"cols\":\"2\"}})],1),_c('b-row',{staticClass:\"mt-4\"},[_c('b-col',{attrs:{\"cols\":\"4\"}}),_c('b-col',{attrs:{\"cols\":\"4\"}},[_c('h6',[_vm._v(\"Filter on:\")]),_c('b-button-group',_vm._l((_vm.filters),function(filter){return _c('b-button',{key:filter.key,attrs:{\"variant\":filter.active ? 'success' : 'danger'},on:{\"click\":function($event){return _vm.toggleFilter(filter.key)}}},[_vm._v(\" \"+_vm._s(filter.key)+\" \")])}),1)],1),_c('b-col',{attrs:{\"cols\":\"4\"}})],1),_c('b-row',{staticClass:\"mt-4\"},[_c('b-col',{attrs:{\"cols\":\"1\"}}),_c('b-col',{attrs:{\"cols\":\"5\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Per page\",\"label-for\":\"per-page-select\",\"label-cols-sm\":\"6\",\"label-cols-md\":\"4\",\"label-cols-lg\":\"3\",\"label-align-sm\":\"right\",\"label-size\":\"sm\"}},[_c('b-form-select',{attrs:{\"id\":\"per-page-select\",\"options\":_vm.pageOptions,\"size\":\"sm\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}})],1)],1),_c('b-col',{attrs:{\"cols\":\"5\"}},[_c('b-pagination',{staticClass:\"my-0\",attrs:{\"total-rows\":_vm.totalRows,\"per-page\":_vm.perPage,\"align\":\"fill\",\"size\":\"sm\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1),_c('b-col',{attrs:{\"cols\":\"1\"}})],1),(_vm.sensorsLoaded)?_c('b-row',{staticClass:\"py-4\"},[_c('b-col',{attrs:{\"cols\":\"1\"}}),_c('b-col',[(_vm.sensorsLoaded)?_c('b-table',{attrs:{\"cols\":\"10\",\"fields\":_vm.fields,\"items\":_vm.itemsToDisplay,\"filter\":_vm.filter,\"filter-included-fields\":_vm.chosenFilters,\"current-page\":_vm.currentPage,\"per-page\":_vm.perPage,\"show-empty\":\"\"},on:{\"filtered\":_vm.onFiltered},scopedSlots:_vm._u([{key:\"empty\",fn:function(){return [_c('h4',[_c('b',[_vm._v(\"No sensor data found\")])])]},proxy:true}],null,false,3356152455)}):_vm._e(),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"2\"}}),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-button-group',[_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.downloadJSON()}}},[_vm._v(\" JSON \")]),_c('b-button',{attrs:{\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.downloadCSV()}}},[_vm._v(\" CSV \")])],1)],1),_c('b-col',{attrs:{\"cols\":\"1\"}},[_c('b-button',{on:{\"click\":function($event){return _vm.openPlotModal(_vm.itemsAfterFiltering)}}},[_vm._v(\" Plot \")])],1),_c('b-col',{attrs:{\"cols\":\"6\"}})],1)],1),_c('b-col',{attrs:{\"cols\":\"1\"}})],1):_c('b-row',[_c('b-col',{staticClass:\"py-4\",attrs:{\"cols\":\"12\"}},[_c('b-spinner',{staticStyle:{\"width\":\"3rem\",\"height\":\"3rem\"}})],1)],1),_c('b-modal',{attrs:{\"id\":\"plot-modal\",\"size\":\"lg\",\"hide-header\":true},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){return [_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.closePlotModal()}}},[_vm._v(\" Cancel \")])]}}])},[_c('b-container',[_c('LineChart',{attrs:{\"chart-options\":_vm.chartOptions,\"chart-data\":_vm.chartData,\"chart-id\":\"line-chart\",\"dataset-id-key\":\"label\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const axios = require(\"axios\").default;\nconst API_URL = \"http://localhost:8080/api\";\n\nexport async function getSensorData(params) {\n  console.log(`Fetching JSON sensor data ${API_URL}`);\n\n  let parsedParams = {};\n\n  for (const key in params) {\n    if (params[key] != false) {\n      parsedParams[key] = params[key];\n    }\n  }\n\n  let res = await axios\n    .get(`${API_URL}/data`, {\n      params: {\n        ...parsedParams,\n      },\n    })\n    .then((response) => {\n      return response;\n    });\n\n  return res.data;\n  // return [\n  //   {\n  //     \"sensorID\": 0,\n  //     \"sensorType\": \"core-temperature\",\n  //     \"timestamp\": 3,\n  //     \"value\": 12\n  //   },\n  //   {\n  //     \"sensorID\": 1,\n  //     \"sensorType\": \"core-temperature\",\n  //     \"timestamp\": 12,\n  //     \"value\": 123\n  //   },\n  //   {\n  //     \"sensorID\": 3,\n  //     \"sensorType\": \"core-temperature\",\n  //     \"timestamp\": 3,\n  //     \"value\": 12\n  //   },\n  //   {\n  //     \"sensorID\": 4,\n  //     \"sensorType\": \"core-temperature\",\n  //     \"timestamp\": 12,\n  //     \"value\": 123\n  //   },\n  //   {\n  //     \"sensorID\": 55,\n  //     \"sensorType\": \"core-temperature\",\n  //     \"timestamp\": 3,\n  //     \"value\": 12\n  //   },\n  //   {\n  //     \"sensorID\": 1,\n  //     \"sensorType\": \"core-temperature\",\n  //     \"timestamp\": 12,\n  //     \"value\": 123\n  //   },\n  //   {\n  //     \"sensorID\": 3,\n  //     \"sensorType\": \"power-generated\",\n  //     \"timestamp\": 14,\n  //     \"value\": 1300\n  //   }\n  // ]\n}\n\nexport async function getSensorDataCSV(params) {\n  console.log(`Fetching CSV sensor data ${API_URL}`);\n\n  let parsedParams = {};\n\n  for (const key in params) {\n    if (params[key] != false) {\n      parsedParams[key] = params[key];\n    }\n  }\n\n  let res = await axios\n    .get(`${API_URL}/data/csv`, {\n      params: {\n        ...parsedParams,\n      },\n    })\n    .then((response) => {\n      return response;\n    });\n\n  return res.data;\n}\n\nexport async function getBooks() {\n  console.log(`Fetching all books from ${API_URL}`);\n  let res = await axios\n    .get(`${API_URL}/warehouse/books`, {\n      params: {},\n    })\n    .then((response) => {\n      return response;\n    });\n\n  return res.data;\n}\n\nexport async function getBook(id) {\n  console.log(`Fetching one book from ${API_URL}`);\n  let res = await axios\n    .get(`${API_URL}/warehouse/books/${id}`, {\n      params: {},\n    })\n    .then((response) => {\n      return response;\n    });\n\n  return res.data;\n}\n\nexport async function getBooksPrices() {\n  console.log(`Fetching price for books from ${API_URL}`);\n  let res = await axios\n    .get(`${API_URL}/sales/books`, {\n      params: {},\n    })\n    .then((response) => {\n      return response;\n    });\n\n  return res.data;\n}\n\nexport async function getBooksDiscounts() {\n  console.log(`Fetching discounts for books from ${API_URL}`);\n  let res = await axios\n    .get(`${API_URL}/marketing/books`, {\n      params: {},\n    })\n    .then((response) => {\n      return response;\n    });\n\n  return res.data;\n}\n\nexport async function getShippingMethods() {\n  console.log(`Fetching all shipping methods from ${API_URL}`);\n  let res = await axios\n    .get(`${API_URL}/shipping/methods`, {\n      params: {},\n    })\n    .then((response) => {\n      return response;\n    });\n\n  return res.data;\n}\n\nexport async function createOrder(order) {\n  console.log(`Creating order for book ${order.book.name} ${API_URL}`);\n  let res = await axios\n    .post(\n      `${API_URL}/contact/orders/create`,\n      {\n        BookID: order.book.id,\n        BookName: order.book.name,\n        BookQuantity: order.quantity,\n        BookPrice: order.book.unitPrice,\n        BookDiscount: order.book.discount / 100,\n        DeliveryMethod: order.deliveryMethod.method,\n        DeliveryPrice: order.deliveryMethod.price,\n      },\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n    .then((response) => {\n      return response;\n    });\n  return res;\n}\n\nexport async function createBook(book) {\n  console.log(`Creating book ${book.name} ${API_URL}`);\n  let res = await axios\n    .post(\n      `${API_URL}/warehouse/books/create`,\n      {\n        name: book.name,\n        price: parseFloat(book.unitPrice),\n        quantity: parseInt(book.quantity),\n        discount: parseInt(book.discount) / 100,\n      },\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n    .then((response) => {\n      return response;\n    });\n  return res;\n}\n\nexport async function createShipping(method) {\n  console.log(`Creating shipping method ${method.name} ${API_URL}`);\n  let res = await axios\n    .post(\n      `${API_URL}/shipping/methods`,\n      {\n        Method: method.name,\n        Price: parseFloat(method.price),\n      },\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n    .then((response) => {\n      return response;\n    });\n  return res;\n}\n\nexport async function deleteShippingMethod(method) {\n  console.log(`Deleting shipping method ${method.name} ${API_URL}`);\n  let res = await axios\n    .delete(\n      `${API_URL}/shipping/methods`,\n      {\n        data: {\n          Method: method.name,\n        },\n\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n    .then((response) => {\n      return response;\n    });\n  return res;\n}\n\nexport async function updateBookInWarehouse(book) {\n  console.log(`Updating book ${book.name} in warehouse ${API_URL}`);\n  let res = await axios\n    .put(\n      `${API_URL}/warehouse/books`,\n      {\n        ID: book.id,\n        name: book.name,\n        quantity: parseInt(book.quantity),\n      },\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n    .then((response) => {\n      return response;\n    });\n  return res;\n}\n\nexport async function updateBookPrice(book) {\n  console.log(`Updating price of book ${book.name} ${API_URL}`);\n  let res = await axios\n    .put(\n      `${API_URL}/sales/books`,\n      {\n        BookID: book.id,\n        BookPrice: parseFloat(book.unitPrice),\n      },\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n    .then((response) => {\n      return response;\n    });\n  return res;\n}\n\nexport async function updateBookDiscount(book) {\n  console.log(`Updating discount of book ${book.name} ${API_URL}`);\n  let res = await axios\n    .put(\n      `${API_URL}/marketing/books`,\n      {\n        BookID: book.id,\n        BookDiscount: parseInt(book.discount) / 100,\n      },\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n    .then((response) => {\n      return response;\n    });\n  return res;\n}\n\nexport async function confirmOrder(order) {\n  console.log(`Confirming order ${order.id} ${API_URL}`);\n  let res = await axios\n    .post(\n      `${API_URL}/contact/orders/${order.id}/confirm`,\n      {},\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n    .then((response) => {\n      return response;\n    });\n  return res;\n}\n\nexport async function cancelOrder(order) {\n  console.log(`Cancelling order ${order.id} ${API_URL}`);\n  let res = await axios\n    .post(\n      `${API_URL}/contact/orders/${order.id}/cancel`,\n      {},\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n    .then((response) => {\n      return response;\n    });\n  return res;\n}\n\nexport async function getOrderStatus(id) {\n  console.log(`Fetching order ${id} status from ${API_URL}`);\n  let res = await axios\n    .get(`${API_URL}/contact/orders/${id}/status`, {\n      params: {},\n    })\n    .then((response) => {\n      return response;\n    });\n  return res.data;\n}\n\nexport async function payInvoice(invoice) {\n  console.log(`Paying for invoice ${invoice.id} ${API_URL}`);\n  let res = await axios\n    .post(\n      `${API_URL}/accounting/invoices/${invoice.id}/pay`,\n      {},\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n    .then((response) => {\n      return response;\n    });\n  return res;\n}\n\nconst api = {\n  getBooks,\n  getBook,\n  getBooksPrices,\n  getBooksDiscounts,\n  getShippingMethods,\n  createOrder,\n  confirmOrder,\n  cancelOrder,\n  getOrderStatus,\n  payInvoice,\n  createBook,\n  updateBookInWarehouse,\n  updateBookPrice,\n  updateBookDiscount,\n  createShipping,\n  deleteShippingMethod,\n  getSensorDataCSV,\n  getSensorData\n};\n\nexport default api;\n","<template>\n  <b-container>\n    <b-row>\n      <b-col cols=\"2\"></b-col>\n      <b-col cols=\"8\">\n        <b-button-group>\n          <b-button\n            v-for=\"sensorType in SENSOR_TYPES\"\n            :key=\"sensorType.name\"\n            :variant=\"\n              sensorType.name == currentSensorType.name ? 'info' : 'light'\n            \"\n            @click=\"changeActiveSensorType(sensorType)\"\n          >\n            {{ sensorType.label }}\n          </b-button>\n        </b-button-group>\n      </b-col>\n      <b-col cols=\"2\"></b-col>\n    </b-row>\n    <b-row class=\"mt-4\">\n      <b-col cols=\"2\"></b-col>\n      <b-col cols=\"8\">\n        <b-form-group\n          label=\"Filter\"\n          label-for=\"filter-input\"\n          label-cols-sm=\"3\"\n          label-align-sm=\"right\"\n          label-size=\"sm\"\n          class=\"mb-0\"\n        >\n          <b-input-group size=\"sm\">\n            <b-form-input\n              id=\"filter-input\"\n              v-model=\"filter\"\n              type=\"search\"\n              placeholder=\"Type to Search\"\n            ></b-form-input>\n\n            <b-input-group-append>\n              <b-button :disabled=\"!filter\" @click=\"filter = ''\"\n                >Clear</b-button\n              >\n            </b-input-group-append>\n          </b-input-group>\n        </b-form-group>\n      </b-col>\n      <b-col cols=\"2\"></b-col>\n    </b-row>\n    <b-row class=\"mt-4\">\n      <b-col cols=\"4\"></b-col>\n      <b-col cols=\"4\">\n        <h6>Filter on:</h6>\n        <b-button-group>\n          <b-button\n            v-for=\"filter in filters\"\n            :key=\"filter.key\"\n            :variant=\"filter.active ? 'success' : 'danger'\"\n            @click=\"toggleFilter(filter.key)\"\n          >\n            {{ filter.key }}\n          </b-button>\n        </b-button-group>\n      </b-col>\n      <b-col cols=\"4\"></b-col>\n    </b-row>\n    <b-row class=\"mt-4\">\n      <b-col cols=\"1\"></b-col>\n      <b-col cols=\"5\">\n        <b-form-group\n          label=\"Per page\"\n          label-for=\"per-page-select\"\n          label-cols-sm=\"6\"\n          label-cols-md=\"4\"\n          label-cols-lg=\"3\"\n          label-align-sm=\"right\"\n          label-size=\"sm\"\n          class=\"mb-0\"\n        >\n          <b-form-select\n            id=\"per-page-select\"\n            v-model=\"perPage\"\n            :options=\"pageOptions\"\n            size=\"sm\"\n          ></b-form-select>\n        </b-form-group>\n      </b-col>\n      <b-col cols=\"5\">\n        <b-pagination\n          v-model=\"currentPage\"\n          :total-rows=\"totalRows\"\n          :per-page=\"perPage\"\n          align=\"fill\"\n          size=\"sm\"\n          class=\"my-0\"\n        ></b-pagination>\n      </b-col>\n      <b-col cols=\"1\"></b-col>\n    </b-row>\n    <b-row v-if=\"sensorsLoaded\" class=\"py-4\">\n      <b-col cols=\"1\"></b-col>\n      <b-col>\n        <b-table\n          cols=\"10\"\n          v-if=\"sensorsLoaded\"\n          :fields=\"fields\"\n          :items=\"itemsToDisplay\"\n          :filter=\"filter\"\n          :filter-included-fields=\"chosenFilters\"\n          :current-page=\"currentPage\"\n          :per-page=\"perPage\"\n          show-empty\n          @filtered=\"onFiltered\"\n        >\n          <template #empty=\"\">\n            <h4><b>No sensor data found</b></h4>\n          </template>\n        </b-table>\n        <b-row>\n          <b-col cols=\"2\"></b-col>\n          <b-col cols=\"3\">\n            <b-button-group>\n              <b-button variant=\"success\" @click=\"downloadJSON()\">\n                JSON\n              </b-button>\n              <b-button variant=\"warning\" @click=\"downloadCSV()\">\n                CSV\n              </b-button>\n            </b-button-group>\n          </b-col>\n          <b-col cols=\"1\">\n            <b-button @click=\"openPlotModal(itemsAfterFiltering)\"> Plot </b-button>\n          </b-col>\n          <b-col cols=\"6\"></b-col>\n        </b-row>\n      </b-col>\n      <b-col cols=\"1\"></b-col>\n    </b-row>\n    <b-row v-else>\n      <b-col cols=\"12\" class=\"py-4\">\n        <b-spinner style=\"width: 3rem; height: 3rem\" />\n      </b-col>\n    </b-row>\n    <b-modal id=\"plot-modal\" size=\"lg\" :hide-header=\"true\">\n      <b-container>\n        <LineChart\n          :chart-options=\"chartOptions\"\n          :chart-data=\"chartData\"\n          chart-id=\"line-chart\"\n          dataset-id-key=\"label\"\n        />\n      </b-container>\n      <template #modal-footer=\"{}\">\n        <b-button variant=\"danger\" @click=\"closePlotModal()\"> Cancel </b-button>\n      </template>\n    </b-modal>\n  </b-container>\n</template>\n\n<script>\nimport {\n  createOrder,\n  getShippingMethods,\n  getBooksPrices,\n  getBooksDiscounts,\n  getSensorData,\n} from \"@/api/api.js\";\nimport { Line as LineChart } from \"vue-chartjs/legacy\";\n\nimport {\n  Chart as ChartJS,\n  Title,\n  Tooltip,\n  Legend,\n  LineElement,\n  LinearScale,\n  CategoryScale,\n  PointElement,\n} from \"chart.js\";\n\nChartJS.register(\n  Title,\n  Tooltip,\n  Legend,\n  LineElement,\n  LinearScale,\n  CategoryScale,\n  PointElement\n);\n\nconst SENSOR_TYPES = [\n  { name: \"coreTemperature\", label: \"Core temperature\", unit: \"°C\" },\n  { name: \"powerGenerated\", label: \"Power generated\", unit: \"MWh\" },\n  { name: \"waterUsage\", label: \"Water usage\", unit: \"L\" },\n  { name: \"turbineRpm\", label: \"Turbine RPM\", unit: \"rpm\" },\n];\n\nconst SENSOR_FIELDS = [\n  { key: \"sensorID\", sortable: true },\n  { key: \"time\", sortable: true },\n  { key: \"value\", sortable: true },\n];\n\nconst FILTERS = [\n  { key: \"sensorID\", active: false },\n  { key: \"time\", active: false },\n  { key: \"value\", active: false },\n];\n\nexport default {\n  name: \"Sensors\",\n  components: {\n    LineChart,\n  },\n  data: function () {\n    return {\n      sensors: [],\n      items: [],\n      SENSOR_TYPES: SENSOR_TYPES,\n      currentSensorType: SENSOR_TYPES[0],\n      itemsToDisplay: [],\n      itemsAfterFiltering: [],\n      fields: SENSOR_FIELDS,\n      filter: \"\",\n      filters: FILTERS,\n      chosenFilters: [],\n      totalRows: 1,\n      currentPage: 1,\n      perPage: 5,\n      pageOptions: [5, 10, 25, 50, 100],\n      sensorsLoaded: false,\n      chartData: {\n        labels: [],\n        datasets: [\n          // {\n          //   label: \"Np typ sensora\",\n          //   backgroundColor: \"#ffffff\",\n          //   data: []\n          // }\n        ],\n      },\n      chartOptions: {\n        responsive: true,\n        maintainAspectRatio: false,\n      },\n      form: {\n        quantity: null,\n      },\n      dataToPlot: null,\n      order: null,\n      shippingMethods: null,\n      chosenShippingMethod: null,\n    };\n  },\n\n  async mounted() {\n    await this.parseSensors();\n  },\n\n  methods: {\n    async loadSensors() {\n      let res = await getSensorData();\n      this.sensors = res;\n      console.log(\"Sensor data loaded\");\n    },\n\n    async loadPrices() {\n      let res = await getBooksPrices();\n\n      return res;\n    },\n\n    async loadDiscounts() {\n      let res = await getBooksDiscounts();\n\n      return res;\n    },\n    onFiltered(filteredItems) {\n      // Trigger pagination to update the number of buttons/pages due to filtering\n      this.totalRows = filteredItems.length;\n      this.currentPage = 1;\n      this.itemsAfterFiltering = filteredItems;\n      console.log(this.itemsAfterFiltering);\n    },\n\n    downloadJSON() {\n      let content = JSON.stringify(this.itemsToDisplay);\n      let blob = new Blob([content], { type: \"application/json\" });\n\n      var url = URL.createObjectURL(blob);\n      var pom = document.createElement(\"a\");\n      pom.href = url;\n      pom.setAttribute(\"download\", \"data.json\");\n      pom.click();\n    },\n\n    downloadCSV() {\n      const CONTENT = [\n        [\"sensorID\", \"sensorType\", \"timestamp\", \"time\", \"value\"],\n        ...this.itemsToDisplay.map((item) => [\n          item.sensorID,\n          item.sensorType,\n          item.timestamp,\n          item.time,\n          item.value,\n        ]),\n      ]\n        .map((e) => e.join(\",\"))\n        .join(\"\\n\");\n\n      let blob = new Blob([CONTENT], { type: \"text/csv\" });\n\n      var url = URL.createObjectURL(blob);\n      var pom = document.createElement(\"a\");\n      pom.href = url;\n      pom.setAttribute(\"download\", \"data.csv\");\n      pom.click();\n    },\n\n    timestampToDate(timestamp) {\n      let date = new Date(timestamp);\n      return date.toLocaleString();\n    },\n\n    initializeSensorItems() {\n      this.items = {};\n\n      for (let s of SENSOR_TYPES) {\n        this.items[s.name] = [];\n      }\n    },\n\n    changeActiveSensorType(sensorType) {\n      this.currentSensorType = sensorType;\n\n      this.itemsToDisplay = this.items[this.currentSensorType.name];\n      this.itemsAfterFiltering = this.itemsToDisplay;\n      this.totalRows = this.itemsToDisplay.length;\n    },\n\n    toggleFilter(key) {\n      let filter = this.filters.find((f) => f.key == key);\n\n      filter.active = !filter.active;\n\n      if (this.chosenFilters.includes(key)) {\n        this.chosenFilters.splice(this.chosenFilters.indexOf(key), 1);\n      } else {\n        this.chosenFilters.push(key);\n      }\n    },\n\n    async parseSensors() {\n      this.sensorsLoaded = false;\n      await this.loadSensors();\n\n      this.initializeSensorItems();\n\n      for (let sensor of this.sensors) {\n        let newSensorReading = JSON.parse(JSON.stringify(sensor));\n        newSensorReading.time = this.timestampToDate(sensor.timestamp);\n        this.items[newSensorReading.sensorType].push(newSensorReading);\n      }\n\n      // this.itemsAfterFiltering\n\n      this.changeActiveSensorType(this.currentSensorType);\n\n      this.sensorsLoaded = true;\n    },\n\n    async parseShippingMethods() {\n      let methods = await getShippingMethods();\n\n      this.shippingMethods = [\n        {\n          value: null,\n          text: \"Choose shipping method\",\n        },\n      ];\n\n      for (let method of methods) {\n        let newMethod = JSON.parse(JSON.stringify(method));\n        this.shippingMethods.push({\n          value: {\n            method: newMethod.methodValue,\n            price: newMethod.price,\n          },\n          text: newMethod.methodValue,\n        });\n      }\n    },\n\n    openPlotModal(dataToPlot) {\n      this.dataToPlot = dataToPlot;\n\n      // Prepare plot data\n      this.chartData.labels = [];\n      this.chartData.datasets = [];\n\n      this.chartData.datasets.push({\n        label: \"Sensors\",\n        data: [],\n      });\n      // Array.slice(start, stop)\n      this.dataToPlot = this.dataToPlot.slice(\n        (this.currentPage - 1) * this.perPage,\n        this.currentPage * this.perPage\n      );\n\n      this.dataToPlot.forEach((sensor) => {\n        this.chartData.labels.push(sensor.time);\n        this.chartData.datasets[0].data.push(sensor.value);\n      });\n\n      this.$bvModal.show(\"plot-modal\");\n    },\n\n    closePlotModal() {\n      this.$bvModal.hide(\"plot-modal\");\n    },\n\n    validForm() {\n      if (\n        this.form[\"quantity\"] <= 0 ||\n        this.form[\"quantity\"] > this.bookToReserve.quantity ||\n        this.chosenShippingMethod == null\n      ) {\n        return false;\n      }\n      return true;\n    },\n\n    async beginOrder() {\n      this.order = {\n        book: this.bookToReserve,\n        quantity: parseInt(this.form.quantity), // this quantity must be taken into account, as quantity in book is in regards to total amount\n        deliveryMethod: this.chosenShippingMethod,\n      };\n\n      let res = await createOrder(this.order);\n\n      if (res.status === 200) {\n        this.order.orderId = res.data.orderID;\n        this.$orders.unshift(this.order);\n        this.$bvToast.toast(`Successfully placed order!`, {\n          title: \"Order confirmation\",\n          autoHideDelay: 5000,\n          appendToast: true,\n        });\n      } else {\n        this.$bvToast.toast(`Failed to place order!`, {\n          title: \"Order confirmation\",\n          autoHideDelay: 5000,\n          appendToast: true,\n        });\n      }\n\n      // this.closeBookReservationForm();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sensors.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sensors.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sensors.vue?vue&type=template&id=38c175ae&scoped=true&\"\nimport script from \"./Sensors.vue?vue&type=script&lang=js&\"\nexport * from \"./Sensors.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38c175ae\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[(_vm.ordersLoaded)?_c('b-row',{staticClass:\"py-4\"},[_c('b-col',{attrs:{\"cols\":\"1\"}}),_c('b-col',[(_vm.ordersLoaded)?_c('b-table',{attrs:{\"cols\":\"10\",\"fields\":_vm.fields,\"items\":_vm.items,\"show-empty\":\"\"},scopedSlots:_vm._u([{key:\"cell(id)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.id)+\" \")]}},{key:\"cell(bookName)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.bookName)+\" \")]}},{key:\"cell(quantity)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.quantity)+\" \")]}},{key:\"cell(totalPrice)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.totalPrice)+\" \")]}},{key:\"cell(cancel)\",fn:function(data){return [_c('b-button',{attrs:{\"variant\":\"danger\",\"disabled\":data.item.status == 'Shipped to customer' ||\n              data.item.status == 'Awaiting shipment' ||\n              data.item.status == 'Canceled' ||\n              data.item.status == 'Awaiting payment'},on:{\"click\":function($event){return _vm.openOrderCancellationForm(data.item)}}},[_vm._v(\"Anuluj\")])]}},{key:\"cell(confirm)\",fn:function(data){return [_c('b-button',{attrs:{\"variant\":\"success\",\"disabled\":data.item.status == 'Shipped to customer' ||\n              data.item.status == 'Awaiting shipment' ||\n              data.item.status == 'Canceled' ||\n              data.item.status == 'Awaiting payment'},on:{\"click\":function($event){return _vm.openOrderConfirmationForm(data.item)}}},[_vm._v(\"Potwierdź\")])]}},{key:\"empty\",fn:function(){return [_c('h4',[_c('b',[_vm._v(\"No orders found\")])])]},proxy:true}],null,false,83774109)}):_vm._e()],1),_c('b-col',{attrs:{\"cols\":\"1\"}})],1):_c('b-row',[_c('b-col',{staticClass:\"py-4\",attrs:{\"cols\":\"12\"}},[_c('b-spinner',{staticStyle:{\"width\":\"3rem\",\"height\":\"3rem\"}})],1)],1),_c('b-modal',{attrs:{\"id\":\"confirm-order-modal\",\"size\":\"md\",\"hide-header\":true},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){return [_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.closeOrderConfirmationForm()}}},[_vm._v(\" Cancel \")]),_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.confirmOrder()}}},[_vm._v(\"Confirm order\")])]}}])},[_c('b-container',[_c('h4',[_vm._v(\"Confirm Your order\")])])],1),_c('b-modal',{attrs:{\"id\":\"cancel-order-modal\",\"size\":\"md\",\"hide-header\":true},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){return [_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.closeOrderCancellationForm()}}},[_vm._v(\" No, I want to keep it \")]),_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.cancelOrder()}}},[_vm._v(\"Cancel order\")])]}}])},[_c('h4',[_vm._v(\"Are You sure You want to cancel Your order?\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-container>\n    <b-row v-if=\"ordersLoaded\" class=\"py-4\">\n      <b-col cols=\"1\"></b-col>\n      <b-col>\n        <b-table\n          cols=\"10\"\n          v-if=\"ordersLoaded\"\n          :fields=\"fields\"\n          :items=\"items\"\n          show-empty\n        >\n          <template #cell(id)=\"data\">\n            {{ data.item.id }}\n          </template>\n          <template #cell(bookName)=\"data\">\n            {{ data.item.bookName }}\n          </template>\n          <template #cell(quantity)=\"data\">\n            {{ data.item.quantity }}\n          </template>\n          <template #cell(totalPrice)=\"data\">\n            {{ data.item.totalPrice }}\n          </template>\n          <template #cell(cancel)=\"data\">\n            <b-button\n              variant=\"danger\"\n              @click=\"openOrderCancellationForm(data.item)\"\n              :disabled=\"\n                data.item.status == 'Shipped to customer' ||\n                data.item.status == 'Awaiting shipment' ||\n                data.item.status == 'Canceled' ||\n                data.item.status == 'Awaiting payment'\n              \"\n              >Anuluj</b-button\n            >\n          </template>\n          <template #cell(confirm)=\"data\">\n            <b-button\n              variant=\"success\"\n              @click=\"openOrderConfirmationForm(data.item)\"\n              :disabled=\"\n                data.item.status == 'Shipped to customer' ||\n                data.item.status == 'Awaiting shipment' ||\n                data.item.status == 'Canceled' ||\n                data.item.status == 'Awaiting payment'\n              \"\n              >Potwierdź</b-button\n            >\n          </template>\n          <template #empty=\"\">\n            <h4><b>No orders found</b></h4>\n          </template>\n        </b-table>\n      </b-col>\n      <b-col cols=\"1\"></b-col>\n    </b-row>\n    <b-row v-else>\n      <b-col cols=\"12\" class=\"py-4\">\n        <b-spinner style=\"width: 3rem; height: 3rem\" />\n      </b-col>\n    </b-row>\n    <b-modal id=\"confirm-order-modal\" size=\"md\" :hide-header=\"true\">\n      <b-container>\n        <h4>Confirm Your order</h4>\n      </b-container>\n      <template #modal-footer=\"{}\">\n        <b-button variant=\"danger\" @click=\"closeOrderConfirmationForm()\">\n          Cancel\n        </b-button>\n        <b-button variant=\"success\" @click=\"confirmOrder()\"\n          >Confirm order</b-button\n        >\n      </template>\n    </b-modal>\n    <b-modal id=\"cancel-order-modal\" size=\"md\" :hide-header=\"true\">\n      <h4>Are You sure You want to cancel Your order?</h4>\n      <template #modal-footer=\"{}\">\n        <b-button variant=\"danger\" @click=\"closeOrderCancellationForm()\">\n          No, I want to keep it\n        </b-button>\n        <b-button variant=\"success\" @click=\"cancelOrder()\"\n          >Cancel order</b-button\n        >\n      </template>\n    </b-modal>\n  </b-container>\n</template>\n\n<script>\nimport { getOrderStatus, confirmOrder, cancelOrder } from \"@/api/api.js\";\n\nconst ORDER_FIELDS = [\n  \"ID\",\n  \"bookName\",\n  \"quantity\",\n  \"totalPrice\",\n  \"status\",\n  \"cancel\",\n  \"confirm\",\n];\n\nexport default {\n  name: \"Orders\",\n  data: function () {\n    return {\n      orders: [],\n      items: [],\n      fields: ORDER_FIELDS,\n      ordersLoaded: false,\n      orderToConfirm: null,\n    };\n  },\n\n  mounted() {\n    this.parseOrders();\n  },\n\n  methods: {\n    async parseOrders() {\n      this.ordersLoaded = false;\n      this.orders = this.$orders;\n      this.items = [];\n\n      for (let order of this.orders) {\n        let statusReq = await getOrderStatus(order.orderId);\n        let parsed_order = {\n          id: order.orderId,\n          bookName: order.book.name,\n          bookId: order.book.id,\n          quantity: order.quantity,\n          totalPrice: order.quantity * order.book.unitPrice,\n          unitPrice: order.book.unitPrice,\n          discount: order.book.discount,\n          status: statusReq.status,\n        };\n        this.items.push(JSON.parse(JSON.stringify(parsed_order)));\n      }\n\n      this.ordersLoaded = true;\n      this.watchForStatusChange();\n    },\n\n    async watchForStatusChange() {\n      setInterval(() => {\n        for (let order of this.orders) {\n          getOrderStatus(order.orderId).then((status) => {\n            let index = this.orders.indexOf(order);\n            this.items[index].status = status.status;\n\n            if (this.items[index].status == \"Canceled\" && this.orderToConfirm.id == order.orderId) {\n              this.closeOrderConfirmationForm();\n              this.closeOrderCancellationForm();\n            }\n          });\n        }\n      }, 3000);\n    },\n\n    openOrderConfirmationForm(order) {\n      this.orderToConfirm = order;\n\n      this.$bvModal.show(\"confirm-order-modal\");\n    },\n\n    closeOrderConfirmationForm() {\n      this.$bvModal.hide(\"confirm-order-modal\");\n    },\n\n    openOrderCancellationForm(order) {\n      this.orderToConfirm = order;\n\n      this.$bvModal.show(\"cancel-order-modal\");\n    },\n\n    closeOrderCancellationForm() {\n      this.$bvModal.hide(\"cancel-order-modal\");\n    },\n\n    async confirmOrder() {\n      let res = await confirmOrder(this.orderToConfirm);\n\n      if (res.status === 200) {\n        this.$confirmedOrders.push(this.orderToConfirm);\n        this.$bvToast.toast(`Successfully confirmed order!`, {\n          title: \"Order confirmation\",\n          autoHideDelay: 5000,\n          appendToast: true,\n        });\n      } else {\n        this.$bvToast.toast(`Failed to confirm order!`, {\n          title: \"Order confirmation\",\n          autoHideDelay: 5000,\n          appendToast: true,\n        });\n      }\n\n      this.closeOrderConfirmationForm();\n    },\n\n    async cancelOrder() {\n      let res = await cancelOrder(this.orderToConfirm);\n\n      if (res.status === 200) {\n        getOrderStatus(this.orderToConfirm.id).then((status) => {\n          let index = this.orders.indexOf(this.orderToConfirm);\n          this.items[index].status = status.status;\n        });\n        this.$bvToast.toast(`Successfully cancelled order!`, {\n          title: \"Order cancellation\",\n          autoHideDelay: 5000,\n          appendToast: true,\n        });\n      } else {\n        this.$bvToast.toast(`Failed to cancel order!`, {\n          title: \"Order cancellation\",\n          autoHideDelay: 5000,\n          appendToast: true,\n        });\n      }\n\n      this.closeOrderCancellationForm();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Orders.vue?vue&type=template&id=9f7ce9ec&scoped=true&\"\nimport script from \"./Orders.vue?vue&type=script&lang=js&\"\nexport * from \"./Orders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9f7ce9ec\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[(_vm.invoicesLoaded)?_c('b-row',{staticClass:\"py-4\"},[_c('b-col',{attrs:{\"cols\":\"1\"}}),_c('b-col',[(_vm.invoicesLoaded)?_c('b-table',{attrs:{\"cols\":\"10\",\"fields\":_vm.fields,\"items\":_vm.items,\"show-empty\":\"\"},scopedSlots:_vm._u([{key:\"cell(id)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.id)+\" \")]}},{key:\"cell(bookName)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.bookName)+\" \")]}},{key:\"cell(quantity)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.quantity)+\" \")]}},{key:\"cell(totalPrice)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.totalPrice)+\" \")]}},{key:\"cell(confirm)\",fn:function(data){return [_c('b-button',{attrs:{\"variant\":\"success\",\"disabled\":data.item.status == 'Shipped to customer' ||\n              data.item.status == 'Awaiting shipment' ||\n              data.item.status == 'Canceled'},on:{\"click\":function($event){return _vm.openInvoiceConfirmationForm(data.item)}}},[_vm._v(\"Potwierdź\")])]}},{key:\"empty\",fn:function(){return [_c('h4',[_c('b',[_vm._v(\"No invoices found\")])])]},proxy:true}],null,false,1030299686)}):_vm._e()],1),_c('b-col',{attrs:{\"cols\":\"1\"}})],1):_c('b-row',[_c('b-col',{staticClass:\"py-4\",attrs:{\"cols\":\"12\"}},[_c('b-spinner',{staticStyle:{\"width\":\"3rem\",\"height\":\"3rem\"}})],1)],1),_c('b-modal',{attrs:{\"id\":\"pay-invoice-modal\",\"size\":\"md\",\"hide-header\":true},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){return [_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.closeInvoiceConfirmationForm()}}},[_vm._v(\" Cancel \")]),_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.payInvoice()}}},[_vm._v(\"Pay invoice\")])]}}])},[_c('b-container',[_c('h4',[_vm._v(\"Confirm Your invoice\")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-container>\n    <b-row v-if=\"invoicesLoaded\" class=\"py-4\">\n      <b-col cols=\"1\"></b-col>\n      <b-col>\n        <b-table\n          cols=\"10\"\n          v-if=\"invoicesLoaded\"\n          :fields=\"fields\"\n          :items=\"items\"\n          show-empty\n        >\n          <template #cell(id)=\"data\">\n            {{ data.item.id }}\n          </template>\n          <template #cell(bookName)=\"data\">\n            {{ data.item.bookName }}\n          </template>\n          <template #cell(quantity)=\"data\">\n            {{ data.item.quantity }}\n          </template>\n          <template #cell(totalPrice)=\"data\">\n            {{ data.item.totalPrice }}\n          </template>\n          <template #cell(confirm)=\"data\">\n            <b-button\n              variant=\"success\"\n              @click=\"openInvoiceConfirmationForm(data.item)\"\n              :disabled=\"\n                data.item.status == 'Shipped to customer' ||\n                data.item.status == 'Awaiting shipment' ||\n                data.item.status == 'Canceled'\n              \"\n              >Potwierdź</b-button\n            >\n          </template>\n          <template #empty=\"\">\n            <h4><b>No invoices found</b></h4>\n          </template>\n        </b-table>\n      </b-col>\n      <b-col cols=\"1\"></b-col>\n    </b-row>\n    <b-row v-else>\n      <b-col cols=\"12\" class=\"py-4\">\n        <b-spinner style=\"width: 3rem; height: 3rem\" />\n      </b-col>\n    </b-row>\n    <b-modal id=\"pay-invoice-modal\" size=\"md\" :hide-header=\"true\">\n      <b-container>\n        <h4>Confirm Your invoice</h4>\n      </b-container>\n      <template #modal-footer=\"{}\">\n        <b-button variant=\"danger\" @click=\"closeInvoiceConfirmationForm()\">\n          Cancel\n        </b-button>\n        <b-button variant=\"success\" @click=\"payInvoice()\">Pay invoice</b-button>\n      </template>\n    </b-modal>\n  </b-container>\n</template>\n\n<script>\nimport { getOrderStatus, payInvoice } from \"@/api/api.js\";\n\nconst INVOICE_FIELDS = [\n  \"ID\",\n  \"bookName\",\n  \"quantity\",\n  \"totalPrice\",\n  \"status\",\n  \"confirm\",\n];\n\nexport default {\n  name: \"Invoices\",\n  data: function () {\n    return {\n      invoices: [],\n      items: [],\n      fields: INVOICE_FIELDS,\n      invoicesLoaded: false,\n      invoiceToPay: null,\n    };\n  },\n\n  mounted() {\n    this.parseInvoices();\n  },\n\n  methods: {\n    async parseInvoices() {\n      this.invoicesLoaded = false;\n      this.invoices = this.$confirmedOrders;\n      this.items = [];\n\n      for (let order of this.invoices) {\n        let statusReq = await getOrderStatus(order.id);\n        let invoice = {\n          id: order.id,\n          bookName: order.bookName,\n          bookId: order.bookId,\n          quantity: order.quantity,\n          totalPrice: order.quantity * order.unitPrice,\n          unitPrice: order.unitPrice,\n          discount: order.discount,\n          status: statusReq.status,\n        };\n        this.items.push(JSON.parse(JSON.stringify(invoice)));\n      }\n\n      this.invoicesLoaded = true;\n      this.watchForStatusChange();\n    },\n\n    async watchForStatusChange() {\n      setInterval(() => {\n        for (let invoice of this.invoices) {\n          getOrderStatus(invoice.id).then((status) => {\n            let index = this.invoices.indexOf(invoice);\n            this.items[index].status = status.status;\n            if (\n              this.items[index].status == \"Canceled\" &&\n              this.invoiceToPay.id == invoice.id\n            ) {\n              this.closeInvoiceConfirmationForm();\n            }\n          });\n        }\n      }, 3000);\n    },\n\n    async openInvoiceConfirmationForm(invoice) {\n      this.invoiceToPay = invoice;\n\n      this.$bvModal.show(\"pay-invoice-modal\");\n    },\n\n    closeInvoiceConfirmationForm() {\n      this.$bvModal.hide(\"pay-invoice-modal\");\n    },\n\n    async payInvoice() {\n      let res = await payInvoice(this.invoiceToPay);\n\n      if (res.status === 200) {\n        this.$paidOrders.push(this.invoiceToPay);\n        getOrderStatus(this.invoiceToPay.id).then((status) => {\n          let index = this.invoices.indexOf(this.invoiceToPay);\n          this.items[index].status = status.status;\n        });\n        this.$bvToast.toast(`Invoice successfully paid!`, {\n          title: \"Inovoice payment\",\n          autoHideDelay: 5000,\n          appendToast: true,\n        });\n      } else {\n        this.$bvToast.toast(`Failed to pay invoice!`, {\n          title: \"Invoice payment\",\n          autoHideDelay: 5000,\n          appendToast: true,\n        });\n      }\n\n      this.closeInvoiceConfirmationForm();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invoices.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invoices.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Invoices.vue?vue&type=template&id=51348146&scoped=true&\"\nimport script from \"./Invoices.vue?vue&type=script&lang=js&\"\nexport * from \"./Invoices.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51348146\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('b-tabs',[_c('b-tab',{attrs:{\"title\":\"Books\"}},[_c('b-row',{staticClass:\"mt-4\"},[_c('b-col',{attrs:{\"cols\":\"8\"}}),_c('b-col',{attrs:{\"cols\":\"4\"}},[_c('b-button',{attrs:{\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.openBookCreationForm()}}},[_vm._v(\" Add book \")])],1)],1),(_vm.booksLoaded)?_c('b-row',{staticClass:\"py-4\"},[_c('b-col',{attrs:{\"cols\":\"1\"}}),_c('b-col',[(_vm.booksLoaded)?_c('b-table',{attrs:{\"cols\":\"10\",\"fields\":_vm.fields,\"items\":_vm.bookItems,\"show-empty\":\"\"},scopedSlots:_vm._u([{key:\"cell(id)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.id)+\" \")]}},{key:\"cell(name)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.name)+\" \")]}},{key:\"cell(details)\",fn:function(row){return [_c('b-button',{staticClass:\"mr-2\",attrs:{\"size\":\"sm\",\"variant\":row.detailsShowing ? 'warning' : 'success'},on:{\"click\":row.toggleDetails}},[_vm._v(\" \"+_vm._s(row.detailsShowing ? \"Hide\" : \"Show\")+\" \")])]}},{key:\"empty\",fn:function(){return [_c('h4',[_c('b',[_vm._v(\"No books found\")])])]},proxy:true},{key:\"row-details\",fn:function(row){return [_c('b-card',[_c('b-row',{staticClass:\"pt-2\"},[_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b',[_vm._v(\"Price:\")])]),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-form-input',{attrs:{\"state\":row.item.unitPrice ==\n                        _vm.bookBaseItems.find(function (book) { return book.id == row.item.id; })\n                          .unitPrice,\"type\":'number'},model:{value:(row.item.unitPrice),callback:function ($$v) {_vm.$set(row.item, \"unitPrice\", $$v)},expression:\"row.item.unitPrice\"}})],1),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b',[_vm._v(\"Discount:\")])]),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-form-input',{attrs:{\"type\":'number',\"state\":row.item.discount ==\n                        _vm.bookBaseItems.find(function (book) { return book.id == row.item.id; })\n                          .discount},model:{value:(row.item.discount),callback:function ($$v) {_vm.$set(row.item, \"discount\", $$v)},expression:\"row.item.discount\"}})],1)],1),_c('b-row',{staticClass:\"pt-2\"},[_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b',[_vm._v(\"Quantity:\")])]),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-form-input',{attrs:{\"type\":'number',\"state\":row.item.quantity ==\n                        _vm.bookBaseItems.find(function (book) { return book.id == row.item.id; })\n                          .quantity},model:{value:(row.item.quantity),callback:function ($$v) {_vm.$set(row.item, \"quantity\", $$v)},expression:\"row.item.quantity\"}})],1),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b',[_vm._v(\"Name:\")])]),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-form-input',{attrs:{\"type\":'text',\"state\":row.item.name ==\n                        _vm.bookBaseItems.find(function (book) { return book.id == row.item.id; })\n                          .name},model:{value:(row.item.name),callback:function ($$v) {_vm.$set(row.item, \"name\", $$v)},expression:\"row.item.name\"}})],1)],1),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"9\"}}),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-button',{staticClass:\"mt-4\",attrs:{\"size\":\"md\",\"variant\":\"info\",\"disabled\":_vm.bookChangesInvalid(row.item)},on:{\"click\":function($event){return _vm.saveBookChanges(row.item)}}},[_vm._v(\"Save changes\")])],1)],1)],1)]}}],null,false,266554563)}):_vm._e()],1),_c('b-col',{attrs:{\"cols\":\"1\"}})],1):_c('b-row',[_c('b-col',{staticClass:\"py-4\",attrs:{\"cols\":\"12\"}},[_c('b-spinner',{staticStyle:{\"width\":\"3rem\",\"height\":\"3rem\"}})],1)],1),_c('b-modal',{attrs:{\"id\":\"book-creation-modal\",\"size\":\"lg\",\"hide-header\":true},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){return [_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.closeBookCreationForm()}}},[_vm._v(\" Cancel \")]),_c('b-button',{attrs:{\"variant\":\"success\",\"disabled\":!_vm.validBookForm()},on:{\"click\":function($event){return _vm.createBook()}}},[_vm._v(\"Create book\")])]}}])},[_c('b-container',[_c('h4',[_vm._v(\"Create new book form\")]),_c('hr'),_c('b-row',{staticClass:\"pt-2\"},[_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b',[_vm._v(\"Name\")])]),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-form-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.bookCreationForm.name),callback:function ($$v) {_vm.$set(_vm.bookCreationForm, \"name\", $$v)},expression:\"bookCreationForm.name\"}})],1),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b',[_vm._v(\"Quantity\")])]),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.bookCreationForm.quantity),callback:function ($$v) {_vm.$set(_vm.bookCreationForm, \"quantity\", $$v)},expression:\"bookCreationForm.quantity\"}})],1)],1),_c('b-row',{staticClass:\"pt-4\"},[_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b',[_vm._v(\"Price\")])]),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.bookCreationForm.unitPrice),callback:function ($$v) {_vm.$set(_vm.bookCreationForm, \"unitPrice\", $$v)},expression:\"bookCreationForm.unitPrice\"}})],1),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b',[_vm._v(\"Discount\")])]),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.bookCreationForm.discount),callback:function ($$v) {_vm.$set(_vm.bookCreationForm, \"discount\", $$v)},expression:\"bookCreationForm.discount\"}})],1)],1)],1)],1)],1),_c('b-tab',{attrs:{\"title\":\"Shipping\"}},[_c('b-row',{staticClass:\"mt-4\"},[_c('b-col',{attrs:{\"cols\":\"8\"}}),_c('b-col',{attrs:{\"cols\":\"4\"}},[_c('b-button',{attrs:{\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.openShippingCreationForm()}}},[_vm._v(\" Add shipping \")])],1)],1),(_vm.shippingMethodsLoaded)?_c('b-row',{staticClass:\"py-4\"},[_c('b-col',{attrs:{\"cols\":\"1\"}}),_c('b-col',[(_vm.shippingMethodsLoaded)?_c('b-table',{attrs:{\"cols\":\"10\",\"fields\":_vm.shippingFields,\"items\":_vm.shippingItems,\"show-empty\":\"\"},scopedSlots:_vm._u([{key:\"cell(name)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.name)+\" \")]}},{key:\"cell(price)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.price)+\" \")]}},{key:\"cell(delete)\",fn:function(row){return [_c('b-button',{staticClass:\"mr-2\",attrs:{\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteShipping(row.item)}}},[_vm._v(\" Delete \")])]}}],null,false,2379147718)}):_vm._e()],1),_c('b-col',{attrs:{\"cols\":\"1\"}})],1):_vm._e(),_c('b-modal',{attrs:{\"id\":\"shipping-creation-modal\",\"size\":\"lg\",\"hide-header\":true},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){return [_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.closeShippingCreationForm()}}},[_vm._v(\" Cancel \")]),_c('b-button',{attrs:{\"variant\":\"success\",\"disabled\":!_vm.validShippingForm()},on:{\"click\":function($event){return _vm.createShipping()}}},[_vm._v(\"Add shipping\")])]}}])},[_c('b-container',[_c('h4',[_vm._v(\"Create new shipping form\")]),_c('hr'),_c('b-row',{staticClass:\"pt-2\"},[_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b',[_vm._v(\"Name\")])]),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-form-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.shippingCreationForm.name),callback:function ($$v) {_vm.$set(_vm.shippingCreationForm, \"name\", $$v)},expression:\"shippingCreationForm.name\"}})],1),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b',[_vm._v(\"Price\")])]),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.shippingCreationForm.price),callback:function ($$v) {_vm.$set(_vm.shippingCreationForm, \"price\", $$v)},expression:\"shippingCreationForm.price\"}})],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-container>\n    <b-tabs>\n      <b-tab title=\"Books\">\n        <b-row class=\"mt-4\">\n          <b-col cols=\"8\"></b-col>\n          <b-col cols=\"4\">\n            <b-button @click=\"openBookCreationForm()\" variant=\"warning\">\n              Add book\n            </b-button>\n          </b-col>\n        </b-row>\n        <b-row v-if=\"booksLoaded\" class=\"py-4\">\n          <b-col cols=\"1\"></b-col>\n          <b-col>\n            <b-table\n              cols=\"10\"\n              v-if=\"booksLoaded\"\n              :fields=\"fields\"\n              :items=\"bookItems\"\n              show-empty\n            >\n              <template #cell(id)=\"data\">\n                {{ data.item.id }}\n              </template>\n              <template #cell(name)=\"data\">\n                {{ data.item.name }}\n              </template>\n              <template #cell(details)=\"row\">\n                <b-button\n                  size=\"sm\"\n                  @click=\"row.toggleDetails\"\n                  class=\"mr-2\"\n                  :variant=\"row.detailsShowing ? 'warning' : 'success'\"\n                >\n                  {{ row.detailsShowing ? \"Hide\" : \"Show\" }}\n                </b-button>\n              </template>\n              <template #empty=\"\">\n                <h4><b>No books found</b></h4>\n              </template>\n              <template #row-details=\"row\">\n                <b-card>\n                  <b-row class=\"pt-2\">\n                    <b-col cols=\"3\">\n                      <b>Price:</b>\n                    </b-col>\n                    <b-col cols=\"3\">\n                      <b-form-input\n                        v-model=\"row.item.unitPrice\"\n                        :state=\"\n                          row.item.unitPrice ==\n                          bookBaseItems.find((book) => book.id == row.item.id)\n                            .unitPrice\n                        \"\n                        :type=\"'number'\"\n                      />\n                    </b-col>\n                    <b-col cols=\"3\">\n                      <b>Discount:</b>\n                    </b-col>\n                    <b-col cols=\"3\">\n                      <b-form-input\n                        v-model=\"row.item.discount\"\n                        :type=\"'number'\"\n                        :state=\"\n                          row.item.discount ==\n                          bookBaseItems.find((book) => book.id == row.item.id)\n                            .discount\n                        \"\n                      />\n                    </b-col>\n                  </b-row>\n                  <b-row class=\"pt-2\">\n                    <b-col cols=\"3\">\n                      <b>Quantity:</b>\n                    </b-col>\n                    <b-col cols=\"3\">\n                      <b-form-input\n                        v-model=\"row.item.quantity\"\n                        :type=\"'number'\"\n                        :state=\"\n                          row.item.quantity ==\n                          bookBaseItems.find((book) => book.id == row.item.id)\n                            .quantity\n                        \"\n                    /></b-col>\n                    <b-col cols=\"3\">\n                      <b>Name:</b>\n                    </b-col>\n                    <b-col cols=\"3\">\n                      <b-form-input\n                        v-model=\"row.item.name\"\n                        :type=\"'text'\"\n                        :state=\"\n                          row.item.name ==\n                          bookBaseItems.find((book) => book.id == row.item.id)\n                            .name\n                        \"\n                      />\n                    </b-col>\n                  </b-row>\n                  <b-row>\n                    <b-col cols=\"9\"></b-col>\n                    <b-col cols=\"3\">\n                      <b-button\n                        @click=\"saveBookChanges(row.item)\"\n                        class=\"mt-4\"\n                        size=\"md\"\n                        variant=\"info\"\n                        :disabled=\"bookChangesInvalid(row.item)\"\n                        >Save changes</b-button\n                      >\n                    </b-col>\n                  </b-row>\n                </b-card>\n              </template>\n            </b-table>\n          </b-col>\n          <b-col cols=\"1\"></b-col>\n        </b-row>\n        <b-row v-else>\n          <b-col cols=\"12\" class=\"py-4\">\n            <b-spinner style=\"width: 3rem; height: 3rem\" />\n          </b-col>\n        </b-row>\n        <b-modal id=\"book-creation-modal\" size=\"lg\" :hide-header=\"true\">\n          <b-container>\n            <h4>Create new book form</h4>\n            <hr />\n            <b-row class=\"pt-2\">\n              <b-col cols=\"3\">\n                <b>Name</b>\n              </b-col>\n              <b-col cols=\"3\">\n                <b-form-input v-model=\"bookCreationForm.name\" type=\"text\" />\n              </b-col>\n              <b-col cols=\"3\">\n                <b>Quantity</b>\n              </b-col>\n              <b-col cols=\"3\">\n                <b-form-input\n                  v-model=\"bookCreationForm.quantity\"\n                  type=\"number\"\n                />\n              </b-col>\n            </b-row>\n            <b-row class=\"pt-4\">\n              <b-col cols=\"3\">\n                <b>Price</b>\n              </b-col>\n              <b-col cols=\"3\">\n                <b-form-input v-model=\"bookCreationForm.unitPrice\" type=\"number\" />\n              </b-col>\n              <b-col cols=\"3\">\n                <b>Discount</b>\n              </b-col>\n              <b-col cols=\"3\">\n                <b-form-input\n                  v-model=\"bookCreationForm.discount\"\n                  type=\"number\"\n                />\n              </b-col>\n            </b-row>\n          </b-container>\n          <template #modal-footer=\"{}\">\n            <b-button variant=\"danger\" @click=\"closeBookCreationForm()\">\n              Cancel\n            </b-button>\n            <b-button\n              variant=\"success\"\n              @click=\"createBook()\"\n              :disabled=\"!validBookForm()\"\n              >Create book</b-button\n            >\n          </template>\n        </b-modal>\n      </b-tab>\n      <b-tab title=\"Shipping\">\n        <b-row class=\"mt-4\">\n          <b-col cols=\"8\"></b-col>\n          <b-col cols=\"4\">\n            <b-button @click=\"openShippingCreationForm()\" variant=\"warning\">\n              Add shipping\n            </b-button>\n          </b-col>\n        </b-row>\n        <b-row v-if=\"shippingMethodsLoaded\" class=\"py-4\">\n          <b-col cols=\"1\"></b-col>\n          <b-col>\n            <b-table\n              cols=\"10\"\n              v-if=\"shippingMethodsLoaded\"\n              :fields=\"shippingFields\"\n              :items=\"shippingItems\"\n              show-empty\n            >\n              <template #cell(name)=\"data\">\n                {{ data.item.name }}\n              </template>\n              <template #cell(price)=\"data\">\n                {{ data.item.price }}\n              </template>\n              <template #cell(delete)=\"row\">\n                <b-button\n                  size=\"sm\"\n                  @click=\"deleteShipping(row.item)\"\n                  class=\"mr-2\"\n                  variant=\"danger\"\n                >\n                  Delete\n                </b-button>\n              </template>\n            </b-table>\n          </b-col>\n          <b-col cols=\"1\"></b-col>\n        </b-row>\n        <b-modal id=\"shipping-creation-modal\" size=\"lg\" :hide-header=\"true\">\n          <b-container>\n            <h4>Create new shipping form</h4>\n            <hr />\n            <b-row class=\"pt-2\">\n              <b-col cols=\"3\">\n                <b>Name</b>\n              </b-col>\n              <b-col cols=\"3\">\n                <b-form-input v-model=\"shippingCreationForm.name\" type=\"text\" />\n              </b-col>\n              <b-col cols=\"3\">\n                <b>Price</b>\n              </b-col>\n              <b-col cols=\"3\">\n                <b-form-input\n                  v-model=\"shippingCreationForm.price\"\n                  type=\"number\"\n                />\n              </b-col>\n            </b-row>\n          </b-container>\n          <template #modal-footer=\"{}\">\n            <b-button variant=\"danger\" @click=\"closeShippingCreationForm()\">\n              Cancel\n            </b-button>\n            <b-button\n              variant=\"success\"\n              @click=\"createShipping()\"\n              :disabled=\"!validShippingForm()\"\n              >Add shipping</b-button\n            >\n          </template>\n        </b-modal>\n      </b-tab>\n    </b-tabs>\n  </b-container>\n</template>\n\n<script>\nimport {\n  getBooks,\n  getShippingMethods,\n  getBooksPrices,\n  getBooksDiscounts,\n  createBook,\n  updateBookInWarehouse,\n  updateBookPrice,\n  updateBookDiscount,\n  createShipping,\n  deleteShippingMethod,\n} from \"@/api/api.js\";\n\nconst BOOK_FIELDS = [\"ID\", \"name\", \"details\"];\nconst SHIPPING_FIELDS = [\"Name\", \"price\", \"delete\"];\n\nexport default {\n  name: \"ManagementPanel\",\n  data: function () {\n    return {\n      books: [],\n      shippingMethods: [],\n      bookItems: [],\n      bookBaseItems: [],\n      shippingItems: [],\n      fields: BOOK_FIELDS,\n      shippingFields: SHIPPING_FIELDS,\n      booksLoaded: false,\n      shippingMethodsLoaded: false,\n      form: {\n        quantity: null,\n        price: null,\n        discount: null,\n        name: null,\n      },\n      bookCreationForm: {\n        name: null,\n        quantity: null,\n        discount: null,\n        unitPrice: null,\n      },\n      shippingCreationForm: {\n        name: null,\n        price: null,\n      },\n      bookToReserve: null,\n    };\n  },\n\n  async mounted() {\n    await this.parseBooks();\n    await this.parseShippingMethods();\n  },\n\n  methods: {\n    async loadBooks() {\n      let res = await getBooks();\n      this.books = res;\n    },\n\n    async loadPrices() {\n      let res = await getBooksPrices();\n\n      return res;\n    },\n\n    async loadDiscounts() {\n      let res = await getBooksDiscounts();\n\n      return res;\n    },\n\n    async parseBooks() {\n      this.booksLoaded = false;\n      await this.loadBooks();\n      this.bookItems = [];\n\n      let prices = await this.loadPrices();\n      let discounts = await this.loadDiscounts();\n\n      for (let book of this.books) {\n        let newBook = JSON.parse(JSON.stringify(book));\n\n        for (let p of prices) {\n          if (p.id == book.id) {\n            newBook.unitPrice = p.price;\n            break;\n          }\n        }\n        for (let d of discounts) {\n          if (d.id == book.id) {\n            newBook.discount = d.discount * 100;\n            break;\n          }\n        }\n        this.bookItems.push(newBook);\n      }\n\n      this.bookBaseItems = JSON.parse(JSON.stringify(this.bookItems));\n\n      this.booksLoaded = true;\n    },\n\n    async parseShippingMethods() {\n      this.shippingMethodsLoaded = true;\n      this.shippingMethods = await getShippingMethods();\n      this.shippingItems = [];\n\n      for (let method of this.shippingMethods) {\n        let newMethod = JSON.parse(JSON.stringify(method));\n        this.shippingItems.push({\n          name: newMethod.methodValue,\n          price: newMethod.price,\n        });\n      }\n\n      this.shippingMethodsLoaded = true;\n    },\n\n    validBookForm() {\n      if (\n        this.bookCreationForm[\"name\"] === \"\" ||\n        this.bookCreationForm[\"quantity\"] === \"\" ||\n        this.bookCreationForm[\"discount\"] === \"\" ||\n        this.bookCreationForm[\"unitPrice\"] === \"\" ||\n        parseInt(this.bookCreationForm[\"quantity\"]) <= 0 ||\n        parseInt(this.bookCreationForm[\"discount\"]) < 0 ||\n        parseInt(this.bookCreationForm[\"discount\"]) > 100 ||\n        parseFloat(this.bookCreationForm[\"unitPrice\"]) < 0\n      ) {\n        return false;\n      }\n      return true;\n    },\n\n    validShippingForm() {\n      if (\n        this.shippingCreationForm[\"name\"] == \"\" ||\n        this.shippingCreationForm[\"price\"] < 0\n      ) {\n        return false;\n      }\n      return true;\n    },\n\n    bookChangesInvalid(book) {\n      if (\n        book.unitPrice <= 0 ||\n        book.discount < 0 ||\n        book.discount > 100 ||\n        book.quantity < 0 ||\n        book.unitPrice === '' ||\n        book.discount === '' ||\n        book.quantity === '' ||\n        book.name === ''\n      ) {\n        return true;\n      }\n\n      return false;\n    },\n\n    async saveBookChanges(book) {\n      let idToUpdate = this.bookBaseItems.indexOf(\n        this.bookBaseItems.find((item) => item.id == book.id)\n      );\n\n      let updatePrice =\n        book.unitPrice != this.bookBaseItems.find((b) => b.id == book.id).unitPrice;\n      let updateQuantity =\n        book.quantity !=\n        this.bookBaseItems.find((b) => b.id == book.id).quantity;\n      let updateDiscount =\n        book.discount !=\n        this.bookBaseItems.find((b) => b.id == book.id).discount;\n      let updateName =\n        book.name != this.bookBaseItems.find((b) => b.id == book.id).name;\n\n      let res = null;\n\n      if (updatePrice) {\n        res = await updateBookPrice(book);\n      }\n      if (updateQuantity || updateName) {\n        res = await updateBookInWarehouse(book);\n      }\n      if (updateDiscount) {\n        res = await updateBookDiscount(book);\n      }\n\n      if (res.status === 200) {\n        this.$bvToast.toast(`Changes saved correctly!`, {\n          title: \"Book changes\",\n          autoHideDelay: 5000,\n          appendToast: true,\n        });\n      } else {\n        this.$bvToast.toast(`Failed to save changes!`, {\n          title: \"Book changes\",\n          autoHideDelay: 5000,\n          appendToast: true,\n        });\n      }\n\n      this.bookBaseItems[idToUpdate] = book;\n      this.bookItems = JSON.parse(JSON.stringify(this.bookItems));\n    },\n\n    openBookCreationForm() {\n      this.bookCreationForm.name = \"DefaultName\";\n      this.bookCreationForm.unitPrice = 49;\n      this.bookCreationForm.quantity = 1;\n      this.bookCreationForm.discount = 0;\n\n      this.$bvModal.show(\"book-creation-modal\");\n    },\n\n    closeBookCreationForm() {\n      this.$bvModal.hide(\"book-creation-modal\");\n    },\n\n    async createBook() {\n      let res = await createBook(this.bookCreationForm);\n\n      if (res.status === 200) {\n        this.$bvToast.toast(`Book created correctly!`, {\n          title: \"Book changes\",\n          autoHideDelay: 5000,\n          appendToast: true,\n        });\n      } else {\n        this.$bvToast.toast(`Failed to create book!`, {\n          title: \"Book changes\",\n          autoHideDelay: 5000,\n          appendToast: true,\n        });\n      }\n\n      this.parseBooks();\n      this.closeBookCreationForm();\n    },\n\n    openShippingCreationForm() {\n      this.shippingCreationForm.name = \"ShippingName\";\n      this.shippingCreationForm.price = 14;\n\n      this.$bvModal.show(\"shipping-creation-modal\");\n    },\n\n    closeShippingCreationForm() {\n      this.$bvModal.hide(\"shipping-creation-modal\");\n    },\n\n    async createShipping() {\n      let res = await createShipping(this.shippingCreationForm);\n\n      if (res.status === 200) {\n        this.$bvToast.toast(`Created shipping method correctly!`, {\n          title: \"Shipping changes\",\n          autoHideDelay: 5000,\n          appendToast: true,\n        });\n      } else {\n        this.$bvToast.toast(`Failed to create shipping method!`, {\n          title: \"Shipping changes\",\n          autoHideDelay: 5000,\n          appendToast: true,\n        });\n      }\n\n      await this.parseShippingMethods();\n      this.closeShippingCreationForm();\n      this.shippingItems = JSON.parse(JSON.stringify(this.shippingItems));\n    },\n\n    async deleteShipping(method) {\n      let res = await deleteShippingMethod(method);\n\n      if (res.status === 200) {\n        this.$bvToast.toast(`Deleted shipping method correctly!`, {\n          title: \"Shipping changes\",\n          autoHideDelay: 5000,\n          appendToast: true,\n        });\n      } else {\n        this.$bvToast.toast(`Failed to delete shipping method!`, {\n          title: \"Shipping changes\",\n          autoHideDelay: 5000,\n          appendToast: true,\n        });\n      }\n\n      await this.parseShippingMethods();\n      this.shippingItems = this.shippingItems.filter(\n        (item) => item.name != method.name\n      );\n\n      this.shippingItems = JSON.parse(JSON.stringify(this.shippingItems));\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManagementPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManagementPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ManagementPanel.vue?vue&type=template&id=01af19c8&scoped=true&\"\nimport script from \"./ManagementPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ManagementPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01af19c8\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Home from '@/views/Home.vue';\nimport Sensors from '@/views/Sensors.vue';\nimport Orders from '@/views/Orders.vue';\nimport Invoices from '@/views/Invoices.vue';\nimport ManagementPanel from '@/views/ManagementPanel.vue';\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home\n  },\n  {\n    path: '/sensors',\n    name: 'Sensors',\n    component: Sensors\n  },\n  {\n    path: '/dashboard',\n    name: 'Dashboard',\n    component: Orders\n  },\n]\n\nconst router = new VueRouter({\n  routes\n})\n\nexport default router\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport BootstrapVue from \"bootstrap-vue\";\nimport \"bootstrap\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\n\nVue.config.productionTip = false;\nVue.use(BootstrapVue);\n\nVue.prototype.$orders = []\nVue.prototype.$confirmedOrders = []\nVue.prototype.$paidOrders = []\n\nnew Vue({\n  router,\n  render: (h) => h(App),\n}).$mount(\"#app\");\n"],"sourceRoot":""}