(function(e){function t(t){for(var r,i,s=t[0],c=t[1],u=t[2],p=0,d=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Navbar",{staticClass:"py-4"}),n("router-view")],1)},a=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-button-group",e._l(e.PATHS,(function(t){return n("b-button",{key:t.path,attrs:{variant:t.isCurrent?"warning":"light"},on:{click:function(n){return e.changeView(t)}}},[e._v(" "+e._s(t.name)+" ")])})),1)},s=[],c=n("b85c"),u=[{path:"/",name:"Home",isCurrent:!1},{path:"/sensors",name:"Sensors",isCurrent:!1},{path:"/dashboard",name:"Dashboard",isCurrent:!1}],l={name:"Navbar",data:function(){return{PATHS:u}},created:function(){this.setActiveRoute()},methods:{changeView:function(e){var t,n=Object(c["a"])(this.PATHS);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.isCurrent=!1}}catch(o){n.e(o)}finally{n.f()}e.isCurrent=!0,this.$router.push(e.path),this.setActiveRoute()},setActiveRoute:function(){var e,t=Object(c["a"])(this.PATHS);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.path==this.$router.currentRoute.path){n.isCurrent=!0;break}}}catch(r){t.e(r)}finally{t.f()}}}},p=l,d=n("2877"),m=Object(d["a"])(p,i,s,!1,null,null,null),f=m.exports,h={name:"App",components:{Navbar:f},methods:{}},b=h,v=(n("034f"),Object(d["a"])(b,o,a,!1,null,null,null)),g=v.exports,k=n("8c4f"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("b-container",[n("b-row",[n("b-col",{attrs:{cols:"2"}}),n("b-col",{attrs:{cols:"8"}},[n("b-card",[n("h4",[e._v("Welcome to our Library!")]),n("hr"),n("h5",[e._v("In the "),n("i",[e._v("Książki")]),e._v(" tab You may find list of all the books available for purchase.")]),n("h5",[n("i",[e._v("Zamówienia")]),e._v(" tab contains all the orders placed in the previous tab, with some most important info about them.")]),n("h5",[e._v("In the last tab "),n("i",[e._v("Faktury")]),e._v(" You may find invoices for only the confirmed orders, regardless of whether they were paid or not.")])])],1),n("b-col",{attrs:{cols:"2"}})],1)],1)],1)},w=[],C={name:"Home"},x=C,O=Object(d["a"])(x,y,w,!1,null,null,null),_=O.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",[n("b-row",[n("b-col",{attrs:{cols:"2"}}),n("b-col",{attrs:{cols:"8"}},[n("b-button-group",e._l(e.SENSOR_TYPES,(function(t){return n("b-button",{key:t.name,attrs:{variant:t.name==e.currentSensorType.name?"info":"light"},on:{click:function(n){return e.changeActiveSensorType(t)}}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),n("b-col",{attrs:{cols:"2"}})],1),n("b-row",{staticClass:"mt-4"},[n("b-col",{attrs:{cols:"2"}}),n("b-col",{attrs:{cols:"8"}},[n("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[n("b-input-group",{attrs:{size:"sm"}},[n("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),n("b-input-group-append",[n("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Clear")])],1)],1)],1)],1),n("b-col",{attrs:{cols:"2"}})],1),n("b-row",{staticClass:"mt-4"},[n("b-col",{attrs:{cols:"4"}}),n("b-col",{attrs:{cols:"4"}},[n("h6",[e._v("Filter on:")]),n("b-button-group",e._l(e.filters,(function(t){return n("b-button",{key:t.key,attrs:{variant:t.active?"success":"danger"},on:{click:function(n){return e.toggleFilter(t.key)}}},[e._v(" "+e._s(t.key)+" ")])})),1)],1),n("b-col",{attrs:{cols:"4"}})],1),n("b-row",{staticClass:"mt-4"},[n("b-col",{attrs:{cols:"1"}}),n("b-col",{attrs:{cols:"5"}},[n("b-form-group",{staticClass:"mb-0",attrs:{label:"Per page","label-for":"per-page-select","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm"}},[n("b-form-select",{attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),n("b-col",{attrs:{cols:"5"}},[n("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),n("b-col",{attrs:{cols:"1"}})],1),e.sensorsLoaded?n("b-row",{staticClass:"py-4"},[n("b-col",{attrs:{cols:"1"}}),n("b-col",[e.sensorsLoaded?n("b-table",{attrs:{cols:"10",fields:e.fields,items:e.itemsToDisplay,filter:e.filter,"filter-included-fields":e.chosenFilters,"current-page":e.currentPage,"per-page":e.perPage,"show-empty":""},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"empty",fn:function(){return[n("h4",[n("b",[e._v("No sensor data found")])])]},proxy:!0}],null,!1,3356152455)}):e._e(),n("b-row",[n("b-col",{attrs:{cols:"2"}}),n("b-col",{attrs:{cols:"3"}},[n("b-button-group",[n("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.downloadJSON()}}},[e._v(" JSON ")]),n("b-button",{attrs:{variant:"warning"},on:{click:function(t){return e.downloadCSV()}}},[e._v(" CSV ")])],1)],1),n("b-col",{attrs:{cols:"1"}},[n("b-button",{on:{click:function(t){return e.openPlotModal(e.itemsAfterFiltering)}}},[e._v(" Plot ")])],1),n("b-col",{attrs:{cols:"6"}})],1)],1),n("b-col",{attrs:{cols:"1"}})],1):n("b-row",[n("b-col",{staticClass:"py-4",attrs:{cols:"12"}},[n("b-spinner",{staticStyle:{width:"3rem",height:"3rem"}})],1)],1),n("b-modal",{attrs:{id:"plot-modal",size:"lg","hide-header":!0},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[n("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closePlotModal()}}},[e._v(" Cancel ")])]}}])},[n("b-container",[n("LineChart",{attrs:{"chart-options":e.chartOptions,"chart-data":e.chartData,"chart-id":"line-chart","dataset-id-key":"label"}})],1)],1)],1)},F=[],R=n("2909"),P=n("1da1"),T=(n("e9c4"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("a15b"),n("d81d"),n("99af"),n("b0c0"),n("7db0"),n("caad"),n("2532"),n("a434"),n("fb6a"),n("159b"),n("96cf"),n("5530")),j=n("bc3a").default,I="http://localhost:8080/api";function D(e){return $.apply(this,arguments)}function $(){return $=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r in console.log("Fetching JSON sensor data ".concat(I)),n={},t)0!=t[r]&&(n[r]=t[r]);return e.next=5,j.get("".concat(I,"/data"),{params:Object(T["a"])({},n)}).then((function(e){return e}));case 5:return o=e.sent,e.abrupt("return",o.data);case 7:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}function N(){return M.apply(this,arguments)}function M(){return M=Object(P["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Fetching all books from ".concat(I)),e.next=3,j.get("".concat(I,"/warehouse/books"),{params:{}}).then((function(e){return e}));case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}function B(){return q.apply(this,arguments)}function q(){return q=Object(P["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Fetching price for books from ".concat(I)),e.next=3,j.get("".concat(I,"/sales/books"),{params:{}}).then((function(e){return e}));case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}function L(){return A.apply(this,arguments)}function A(){return A=Object(P["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Fetching discounts for books from ".concat(I)),e.next=3,j.get("".concat(I,"/marketing/books"),{params:{}}).then((function(e){return e}));case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function J(){return H.apply(this,arguments)}function H(){return H=Object(P["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Fetching all shipping methods from ".concat(I)),e.next=3,j.get("".concat(I,"/shipping/methods"),{params:{}}).then((function(e){return e}));case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}function z(e){return E.apply(this,arguments)}function E(){return E=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Creating order for book ".concat(t.book.name," ").concat(I)),e.next=3,j.post("".concat(I,"/contact/orders/create"),{BookID:t.book.id,BookName:t.book.name,BookQuantity:t.quantity,BookPrice:t.book.unitPrice,BookDiscount:t.book.discount/100,DeliveryMethod:t.deliveryMethod.method,DeliveryPrice:t.deliveryMethod.price},{headers:{"Content-Type":"application/json"}}).then((function(e){return e}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function Y(e){return U.apply(this,arguments)}function U(){return U=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Creating book ".concat(t.name," ").concat(I)),e.next=3,j.post("".concat(I,"/warehouse/books/create"),{name:t.name,price:parseFloat(t.unitPrice),quantity:parseInt(t.quantity),discount:parseInt(t.discount)/100},{headers:{"Content-Type":"application/json"}}).then((function(e){return e}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}function V(e){return Q.apply(this,arguments)}function Q(){return Q=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Creating shipping method ".concat(t.name," ").concat(I)),e.next=3,j.post("".concat(I,"/shipping/methods"),{Method:t.name,Price:parseFloat(t.price)},{headers:{"Content-Type":"application/json"}}).then((function(e){return e}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}function W(e){return G.apply(this,arguments)}function G(){return G=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Deleting shipping method ".concat(t.name," ").concat(I)),e.next=3,j.delete("".concat(I,"/shipping/methods"),{data:{Method:t.name},headers:{"Content-Type":"application/json"}}).then((function(e){return e}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}function K(e){return Z.apply(this,arguments)}function Z(){return Z=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Updating book ".concat(t.name," in warehouse ").concat(I)),e.next=3,j.put("".concat(I,"/warehouse/books"),{ID:t.id,name:t.name,quantity:parseInt(t.quantity)},{headers:{"Content-Type":"application/json"}}).then((function(e){return e}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}function X(e){return ee.apply(this,arguments)}function ee(){return ee=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Updating price of book ".concat(t.name," ").concat(I)),e.next=3,j.put("".concat(I,"/sales/books"),{BookID:t.id,BookPrice:parseFloat(t.unitPrice)},{headers:{"Content-Type":"application/json"}}).then((function(e){return e}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),ee.apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return ne=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Updating discount of book ".concat(t.name," ").concat(I)),e.next=3,j.put("".concat(I,"/marketing/books"),{BookID:t.id,BookDiscount:parseInt(t.discount)/100},{headers:{"Content-Type":"application/json"}}).then((function(e){return e}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),ne.apply(this,arguments)}function re(e){return oe.apply(this,arguments)}function oe(){return oe=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Confirming order ".concat(t.id," ").concat(I)),e.next=3,j.post("".concat(I,"/contact/orders/").concat(t.id,"/confirm"),{},{headers:{"Content-Type":"application/json"}}).then((function(e){return e}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),oe.apply(this,arguments)}function ae(e){return ie.apply(this,arguments)}function ie(){return ie=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Cancelling order ".concat(t.id," ").concat(I)),e.next=3,j.post("".concat(I,"/contact/orders/").concat(t.id,"/cancel"),{},{headers:{"Content-Type":"application/json"}}).then((function(e){return e}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),ie.apply(this,arguments)}function se(e){return ce.apply(this,arguments)}function ce(){return ce=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Fetching order ".concat(t," status from ").concat(I)),e.next=3,j.get("".concat(I,"/contact/orders/").concat(t,"/status"),{params:{}}).then((function(e){return e}));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)}))),ce.apply(this,arguments)}function ue(e){return le.apply(this,arguments)}function le(){return le=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Paying for invoice ".concat(t.id," ").concat(I)),e.next=3,j.post("".concat(I,"/accounting/invoices/").concat(t.id,"/pay"),{},{headers:{"Content-Type":"application/json"}}).then((function(e){return e}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),le.apply(this,arguments)}var pe=n("7b97"),de=n("dd61");de["d"].register(de["o"],de["p"],de["f"],de["h"],de["i"],de["c"],de["k"]);var me=[{name:"coreTemperature",label:"Core temperature",unit:"°C"},{name:"powerGenerated",label:"Power generated",unit:"MWh"},{name:"waterUsage",label:"Water usage",unit:"L"},{name:"turbineRpm",label:"Turbine RPM",unit:"rpm"}],fe=[{key:"sensorID",sortable:!0},{key:"time",sortable:!0},{key:"value",sortable:!0}],he=[{key:"sensorID",active:!1},{key:"time",active:!1},{key:"value",active:!1}],be={name:"Sensors",components:{LineChart:pe["a"]},data:function(){return{sensors:[],items:[],SENSOR_TYPES:me,currentSensorType:me[0],itemsToDisplay:[],itemsAfterFiltering:[],fields:fe,filter:"",filters:he,chosenFilters:[],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,25,50,100],sensorsLoaded:!1,chartData:{labels:[],datasets:[]},chartOptions:{responsive:!0,maintainAspectRatio:!1},form:{quantity:null},dataToPlot:null,order:null,shippingMethods:null,chosenShippingMethod:null}},mounted:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.parseSensors();case 2:case"end":return t.stop()}}),t)})))()},methods:{loadSensors:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,D();case 2:n=t.sent,e.sensors=n,console.log("Sensor data loaded");case 5:case"end":return t.stop()}}),t)})))()},loadPrices:function(){return Object(P["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))()},loadDiscounts:function(){return Object(P["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))()},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1,this.itemsAfterFiltering=e,console.log(this.itemsAfterFiltering)},downloadJSON:function(){var e=JSON.stringify(this.itemsToDisplay),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.setAttribute("download","data.json"),r.click()},downloadCSV:function(){var e=[["sensorID","sensorType","timestamp","time","value"]].concat(Object(R["a"])(this.itemsToDisplay.map((function(e){return[e.sensorID,e.sensorType,e.timestamp,e.time,e.value]})))).map((function(e){return e.join(",")})).join("\n"),t=new Blob([e],{type:"text/csv"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.setAttribute("download","data.csv"),r.click()},timestampToDate:function(e){var t=new Date(e);return t.toLocaleString()},initializeSensorItems:function(){this.items={};var e,t=Object(c["a"])(me);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.items[n.name]=[]}}catch(r){t.e(r)}finally{t.f()}},changeActiveSensorType:function(e){this.currentSensorType=e,this.itemsToDisplay=this.items[this.currentSensorType.name],this.itemsAfterFiltering=this.itemsToDisplay,this.totalRows=this.itemsToDisplay.length},toggleFilter:function(e){var t=this.filters.find((function(t){return t.key==e}));t.active=!t.active,this.chosenFilters.includes(e)?this.chosenFilters.splice(this.chosenFilters.indexOf(e),1):this.chosenFilters.push(e)},parseSensors:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.sensorsLoaded=!1,t.next=3,e.loadSensors();case 3:e.initializeSensorItems(),n=Object(c["a"])(e.sensors);try{for(n.s();!(r=n.n()).done;)o=r.value,a=JSON.parse(JSON.stringify(o)),a.time=e.timestampToDate(o.timestamp),e.items[a.sensorType].push(a)}catch(i){n.e(i)}finally{n.f()}e.changeActiveSensorType(e.currentSensorType),e.sensorsLoaded=!0;case 8:case"end":return t.stop()}}),t)})))()},parseShippingMethods:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,J();case 2:n=t.sent,e.shippingMethods=[{value:null,text:"Choose shipping method"}],r=Object(c["a"])(n);try{for(r.s();!(o=r.n()).done;)a=o.value,i=JSON.parse(JSON.stringify(a)),e.shippingMethods.push({value:{method:i.methodValue,price:i.price},text:i.methodValue})}catch(s){r.e(s)}finally{r.f()}case 6:case"end":return t.stop()}}),t)})))()},openPlotModal:function(e){var t=this;this.dataToPlot=e,this.chartData.labels=[],this.chartData.datasets=[],this.chartData.datasets.push({label:"Sensors",data:[]}),this.dataToPlot=this.dataToPlot.slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage),this.dataToPlot.forEach((function(e){t.chartData.labels.push(e.time),t.chartData.datasets[0].data.push(e.value)})),this.$bvModal.show("plot-modal")},closePlotModal:function(){this.$bvModal.hide("plot-modal")},validForm:function(){return!(this.form["quantity"]<=0||this.form["quantity"]>this.bookToReserve.quantity||null==this.chosenShippingMethod)},beginOrder:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.order={book:e.bookToReserve,quantity:parseInt(e.form.quantity),deliveryMethod:e.chosenShippingMethod},t.next=3,z(e.order);case 3:n=t.sent,200===n.status?(e.order.orderId=n.data.orderID,e.$orders.unshift(e.order),e.$bvToast.toast("Successfully placed order!",{title:"Order confirmation",autoHideDelay:5e3,appendToast:!0})):e.$bvToast.toast("Failed to place order!",{title:"Order confirmation",autoHideDelay:5e3,appendToast:!0});case 5:case"end":return t.stop()}}),t)})))()}}},ve=be,ge=Object(d["a"])(ve,S,F,!1,null,"38c175ae",null),ke=ge.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",[e.ordersLoaded?n("b-row",{staticClass:"py-4"},[n("b-col",{attrs:{cols:"1"}}),n("b-col",[e.ordersLoaded?n("b-table",{attrs:{cols:"10",fields:e.fields,items:e.items,"show-empty":""},scopedSlots:e._u([{key:"cell(id)",fn:function(t){return[e._v(" "+e._s(t.item.id)+" ")]}},{key:"cell(bookName)",fn:function(t){return[e._v(" "+e._s(t.item.bookName)+" ")]}},{key:"cell(quantity)",fn:function(t){return[e._v(" "+e._s(t.item.quantity)+" ")]}},{key:"cell(totalPrice)",fn:function(t){return[e._v(" "+e._s(t.item.totalPrice)+" ")]}},{key:"cell(cancel)",fn:function(t){return[n("b-button",{attrs:{variant:"danger",disabled:"Shipped to customer"==t.item.status||"Awaiting shipment"==t.item.status||"Canceled"==t.item.status||"Awaiting payment"==t.item.status},on:{click:function(n){return e.openOrderCancellationForm(t.item)}}},[e._v("Anuluj")])]}},{key:"cell(confirm)",fn:function(t){return[n("b-button",{attrs:{variant:"success",disabled:"Shipped to customer"==t.item.status||"Awaiting shipment"==t.item.status||"Canceled"==t.item.status||"Awaiting payment"==t.item.status},on:{click:function(n){return e.openOrderConfirmationForm(t.item)}}},[e._v("Potwierdź")])]}},{key:"empty",fn:function(){return[n("h4",[n("b",[e._v("No orders found")])])]},proxy:!0}],null,!1,83774109)}):e._e()],1),n("b-col",{attrs:{cols:"1"}})],1):n("b-row",[n("b-col",{staticClass:"py-4",attrs:{cols:"12"}},[n("b-spinner",{staticStyle:{width:"3rem",height:"3rem"}})],1)],1),n("b-modal",{attrs:{id:"confirm-order-modal",size:"md","hide-header":!0},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[n("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeOrderConfirmationForm()}}},[e._v(" Cancel ")]),n("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.confirmOrder()}}},[e._v("Confirm order")])]}}])},[n("b-container",[n("h4",[e._v("Confirm Your order")])])],1),n("b-modal",{attrs:{id:"cancel-order-modal",size:"md","hide-header":!0},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[n("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeOrderCancellationForm()}}},[e._v(" No, I want to keep it ")]),n("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.cancelOrder()}}},[e._v("Cancel order")])]}}])},[n("h4",[e._v("Are You sure You want to cancel Your order?")])])],1)},we=[],Ce=["ID","bookName","quantity","totalPrice","status","cancel","confirm"],xe={name:"Orders",data:function(){return{orders:[],items:[],fields:Ce,ordersLoaded:!1,orderToConfirm:null}},mounted:function(){this.parseOrders()},methods:{parseOrders:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.ordersLoaded=!1,e.orders=e.$orders,e.items=[],n=Object(c["a"])(e.orders),t.prev=4,n.s();case 6:if((r=n.n()).done){t.next=15;break}return o=r.value,t.next=10,se(o.orderId);case 10:a=t.sent,i={id:o.orderId,bookName:o.book.name,bookId:o.book.id,quantity:o.quantity,totalPrice:o.quantity*o.book.unitPrice,unitPrice:o.book.unitPrice,discount:o.book.discount,status:a.status},e.items.push(JSON.parse(JSON.stringify(i)));case 13:t.next=6;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](4),n.e(t.t0);case 20:return t.prev=20,n.f(),t.finish(20);case 23:e.ordersLoaded=!0,e.watchForStatusChange();case 25:case"end":return t.stop()}}),t,null,[[4,17,20,23]])})))()},watchForStatusChange:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:setInterval((function(){var t,n=Object(c["a"])(e.orders);try{var r=function(){var n=t.value;se(n.orderId).then((function(t){var r=e.orders.indexOf(n);e.items[r].status=t.status,"Canceled"==e.items[r].status&&e.orderToConfirm.id==n.orderId&&(e.closeOrderConfirmationForm(),e.closeOrderCancellationForm())}))};for(n.s();!(t=n.n()).done;)r()}catch(o){n.e(o)}finally{n.f()}}),3e3);case 1:case"end":return t.stop()}}),t)})))()},openOrderConfirmationForm:function(e){this.orderToConfirm=e,this.$bvModal.show("confirm-order-modal")},closeOrderConfirmationForm:function(){this.$bvModal.hide("confirm-order-modal")},openOrderCancellationForm:function(e){this.orderToConfirm=e,this.$bvModal.show("cancel-order-modal")},closeOrderCancellationForm:function(){this.$bvModal.hide("cancel-order-modal")},confirmOrder:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,re(e.orderToConfirm);case 2:n=t.sent,200===n.status?(e.$confirmedOrders.push(e.orderToConfirm),e.$bvToast.toast("Successfully confirmed order!",{title:"Order confirmation",autoHideDelay:5e3,appendToast:!0})):e.$bvToast.toast("Failed to confirm order!",{title:"Order confirmation",autoHideDelay:5e3,appendToast:!0}),e.closeOrderConfirmationForm();case 5:case"end":return t.stop()}}),t)})))()},cancelOrder:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ae(e.orderToConfirm);case 2:n=t.sent,200===n.status?(se(e.orderToConfirm.id).then((function(t){var n=e.orders.indexOf(e.orderToConfirm);e.items[n].status=t.status})),e.$bvToast.toast("Successfully cancelled order!",{title:"Order cancellation",autoHideDelay:5e3,appendToast:!0})):e.$bvToast.toast("Failed to cancel order!",{title:"Order cancellation",autoHideDelay:5e3,appendToast:!0}),e.closeOrderCancellationForm();case 5:case"end":return t.stop()}}),t)})))()}}},Oe=xe,_e=Object(d["a"])(Oe,ye,we,!1,null,"9f7ce9ec",null),Se=_e.exports,Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",[e.invoicesLoaded?n("b-row",{staticClass:"py-4"},[n("b-col",{attrs:{cols:"1"}}),n("b-col",[e.invoicesLoaded?n("b-table",{attrs:{cols:"10",fields:e.fields,items:e.items,"show-empty":""},scopedSlots:e._u([{key:"cell(id)",fn:function(t){return[e._v(" "+e._s(t.item.id)+" ")]}},{key:"cell(bookName)",fn:function(t){return[e._v(" "+e._s(t.item.bookName)+" ")]}},{key:"cell(quantity)",fn:function(t){return[e._v(" "+e._s(t.item.quantity)+" ")]}},{key:"cell(totalPrice)",fn:function(t){return[e._v(" "+e._s(t.item.totalPrice)+" ")]}},{key:"cell(confirm)",fn:function(t){return[n("b-button",{attrs:{variant:"success",disabled:"Shipped to customer"==t.item.status||"Awaiting shipment"==t.item.status||"Canceled"==t.item.status},on:{click:function(n){return e.openInvoiceConfirmationForm(t.item)}}},[e._v("Potwierdź")])]}},{key:"empty",fn:function(){return[n("h4",[n("b",[e._v("No invoices found")])])]},proxy:!0}],null,!1,1030299686)}):e._e()],1),n("b-col",{attrs:{cols:"1"}})],1):n("b-row",[n("b-col",{staticClass:"py-4",attrs:{cols:"12"}},[n("b-spinner",{staticStyle:{width:"3rem",height:"3rem"}})],1)],1),n("b-modal",{attrs:{id:"pay-invoice-modal",size:"md","hide-header":!0},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[n("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeInvoiceConfirmationForm()}}},[e._v(" Cancel ")]),n("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.payInvoice()}}},[e._v("Pay invoice")])]}}])},[n("b-container",[n("h4",[e._v("Confirm Your invoice")])])],1)],1)},Re=[],Pe=["ID","bookName","quantity","totalPrice","status","confirm"],Te={name:"Invoices",data:function(){return{invoices:[],items:[],fields:Pe,invoicesLoaded:!1,invoiceToPay:null}},mounted:function(){this.parseInvoices()},methods:{parseInvoices:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.invoicesLoaded=!1,e.invoices=e.$confirmedOrders,e.items=[],n=Object(c["a"])(e.invoices),t.prev=4,n.s();case 6:if((r=n.n()).done){t.next=15;break}return o=r.value,t.next=10,se(o.id);case 10:a=t.sent,i={id:o.id,bookName:o.bookName,bookId:o.bookId,quantity:o.quantity,totalPrice:o.quantity*o.unitPrice,unitPrice:o.unitPrice,discount:o.discount,status:a.status},e.items.push(JSON.parse(JSON.stringify(i)));case 13:t.next=6;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](4),n.e(t.t0);case 20:return t.prev=20,n.f(),t.finish(20);case 23:e.invoicesLoaded=!0,e.watchForStatusChange();case 25:case"end":return t.stop()}}),t,null,[[4,17,20,23]])})))()},watchForStatusChange:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:setInterval((function(){var t,n=Object(c["a"])(e.invoices);try{var r=function(){var n=t.value;se(n.id).then((function(t){var r=e.invoices.indexOf(n);e.items[r].status=t.status,"Canceled"==e.items[r].status&&e.invoiceToPay.id==n.id&&e.closeInvoiceConfirmationForm()}))};for(n.s();!(t=n.n()).done;)r()}catch(o){n.e(o)}finally{n.f()}}),3e3);case 1:case"end":return t.stop()}}),t)})))()},openInvoiceConfirmationForm:function(e){var t=this;return Object(P["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.invoiceToPay=e,t.$bvModal.show("pay-invoice-modal");case 2:case"end":return n.stop()}}),n)})))()},closeInvoiceConfirmationForm:function(){this.$bvModal.hide("pay-invoice-modal")},payInvoice:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ue(e.invoiceToPay);case 2:n=t.sent,200===n.status?(e.$paidOrders.push(e.invoiceToPay),se(e.invoiceToPay.id).then((function(t){var n=e.invoices.indexOf(e.invoiceToPay);e.items[n].status=t.status})),e.$bvToast.toast("Invoice successfully paid!",{title:"Inovoice payment",autoHideDelay:5e3,appendToast:!0})):e.$bvToast.toast("Failed to pay invoice!",{title:"Invoice payment",autoHideDelay:5e3,appendToast:!0}),e.closeInvoiceConfirmationForm();case 5:case"end":return t.stop()}}),t)})))()}}},je=Te,Ie=Object(d["a"])(je,Fe,Re,!1,null,"51348146",null),De=(Ie.exports,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",[n("b-tabs",[n("b-tab",{attrs:{title:"Books"}},[n("b-row",{staticClass:"mt-4"},[n("b-col",{attrs:{cols:"8"}}),n("b-col",{attrs:{cols:"4"}},[n("b-button",{attrs:{variant:"warning"},on:{click:function(t){return e.openBookCreationForm()}}},[e._v(" Add book ")])],1)],1),e.booksLoaded?n("b-row",{staticClass:"py-4"},[n("b-col",{attrs:{cols:"1"}}),n("b-col",[e.booksLoaded?n("b-table",{attrs:{cols:"10",fields:e.fields,items:e.bookItems,"show-empty":""},scopedSlots:e._u([{key:"cell(id)",fn:function(t){return[e._v(" "+e._s(t.item.id)+" ")]}},{key:"cell(name)",fn:function(t){return[e._v(" "+e._s(t.item.name)+" ")]}},{key:"cell(details)",fn:function(t){return[n("b-button",{staticClass:"mr-2",attrs:{size:"sm",variant:t.detailsShowing?"warning":"success"},on:{click:t.toggleDetails}},[e._v(" "+e._s(t.detailsShowing?"Hide":"Show")+" ")])]}},{key:"empty",fn:function(){return[n("h4",[n("b",[e._v("No books found")])])]},proxy:!0},{key:"row-details",fn:function(t){return[n("b-card",[n("b-row",{staticClass:"pt-2"},[n("b-col",{attrs:{cols:"3"}},[n("b",[e._v("Price:")])]),n("b-col",{attrs:{cols:"3"}},[n("b-form-input",{attrs:{state:t.item.unitPrice==e.bookBaseItems.find((function(e){return e.id==t.item.id})).unitPrice,type:"number"},model:{value:t.item.unitPrice,callback:function(n){e.$set(t.item,"unitPrice",n)},expression:"row.item.unitPrice"}})],1),n("b-col",{attrs:{cols:"3"}},[n("b",[e._v("Discount:")])]),n("b-col",{attrs:{cols:"3"}},[n("b-form-input",{attrs:{type:"number",state:t.item.discount==e.bookBaseItems.find((function(e){return e.id==t.item.id})).discount},model:{value:t.item.discount,callback:function(n){e.$set(t.item,"discount",n)},expression:"row.item.discount"}})],1)],1),n("b-row",{staticClass:"pt-2"},[n("b-col",{attrs:{cols:"3"}},[n("b",[e._v("Quantity:")])]),n("b-col",{attrs:{cols:"3"}},[n("b-form-input",{attrs:{type:"number",state:t.item.quantity==e.bookBaseItems.find((function(e){return e.id==t.item.id})).quantity},model:{value:t.item.quantity,callback:function(n){e.$set(t.item,"quantity",n)},expression:"row.item.quantity"}})],1),n("b-col",{attrs:{cols:"3"}},[n("b",[e._v("Name:")])]),n("b-col",{attrs:{cols:"3"}},[n("b-form-input",{attrs:{type:"text",state:t.item.name==e.bookBaseItems.find((function(e){return e.id==t.item.id})).name},model:{value:t.item.name,callback:function(n){e.$set(t.item,"name",n)},expression:"row.item.name"}})],1)],1),n("b-row",[n("b-col",{attrs:{cols:"9"}}),n("b-col",{attrs:{cols:"3"}},[n("b-button",{staticClass:"mt-4",attrs:{size:"md",variant:"info",disabled:e.bookChangesInvalid(t.item)},on:{click:function(n){return e.saveBookChanges(t.item)}}},[e._v("Save changes")])],1)],1)],1)]}}],null,!1,266554563)}):e._e()],1),n("b-col",{attrs:{cols:"1"}})],1):n("b-row",[n("b-col",{staticClass:"py-4",attrs:{cols:"12"}},[n("b-spinner",{staticStyle:{width:"3rem",height:"3rem"}})],1)],1),n("b-modal",{attrs:{id:"book-creation-modal",size:"lg","hide-header":!0},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[n("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeBookCreationForm()}}},[e._v(" Cancel ")]),n("b-button",{attrs:{variant:"success",disabled:!e.validBookForm()},on:{click:function(t){return e.createBook()}}},[e._v("Create book")])]}}])},[n("b-container",[n("h4",[e._v("Create new book form")]),n("hr"),n("b-row",{staticClass:"pt-2"},[n("b-col",{attrs:{cols:"3"}},[n("b",[e._v("Name")])]),n("b-col",{attrs:{cols:"3"}},[n("b-form-input",{attrs:{type:"text"},model:{value:e.bookCreationForm.name,callback:function(t){e.$set(e.bookCreationForm,"name",t)},expression:"bookCreationForm.name"}})],1),n("b-col",{attrs:{cols:"3"}},[n("b",[e._v("Quantity")])]),n("b-col",{attrs:{cols:"3"}},[n("b-form-input",{attrs:{type:"number"},model:{value:e.bookCreationForm.quantity,callback:function(t){e.$set(e.bookCreationForm,"quantity",t)},expression:"bookCreationForm.quantity"}})],1)],1),n("b-row",{staticClass:"pt-4"},[n("b-col",{attrs:{cols:"3"}},[n("b",[e._v("Price")])]),n("b-col",{attrs:{cols:"3"}},[n("b-form-input",{attrs:{type:"number"},model:{value:e.bookCreationForm.unitPrice,callback:function(t){e.$set(e.bookCreationForm,"unitPrice",t)},expression:"bookCreationForm.unitPrice"}})],1),n("b-col",{attrs:{cols:"3"}},[n("b",[e._v("Discount")])]),n("b-col",{attrs:{cols:"3"}},[n("b-form-input",{attrs:{type:"number"},model:{value:e.bookCreationForm.discount,callback:function(t){e.$set(e.bookCreationForm,"discount",t)},expression:"bookCreationForm.discount"}})],1)],1)],1)],1)],1),n("b-tab",{attrs:{title:"Shipping"}},[n("b-row",{staticClass:"mt-4"},[n("b-col",{attrs:{cols:"8"}}),n("b-col",{attrs:{cols:"4"}},[n("b-button",{attrs:{variant:"warning"},on:{click:function(t){return e.openShippingCreationForm()}}},[e._v(" Add shipping ")])],1)],1),e.shippingMethodsLoaded?n("b-row",{staticClass:"py-4"},[n("b-col",{attrs:{cols:"1"}}),n("b-col",[e.shippingMethodsLoaded?n("b-table",{attrs:{cols:"10",fields:e.shippingFields,items:e.shippingItems,"show-empty":""},scopedSlots:e._u([{key:"cell(name)",fn:function(t){return[e._v(" "+e._s(t.item.name)+" ")]}},{key:"cell(price)",fn:function(t){return[e._v(" "+e._s(t.item.price)+" ")]}},{key:"cell(delete)",fn:function(t){return[n("b-button",{staticClass:"mr-2",attrs:{size:"sm",variant:"danger"},on:{click:function(n){return e.deleteShipping(t.item)}}},[e._v(" Delete ")])]}}],null,!1,2379147718)}):e._e()],1),n("b-col",{attrs:{cols:"1"}})],1):e._e(),n("b-modal",{attrs:{id:"shipping-creation-modal",size:"lg","hide-header":!0},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[n("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeShippingCreationForm()}}},[e._v(" Cancel ")]),n("b-button",{attrs:{variant:"success",disabled:!e.validShippingForm()},on:{click:function(t){return e.createShipping()}}},[e._v("Add shipping")])]}}])},[n("b-container",[n("h4",[e._v("Create new shipping form")]),n("hr"),n("b-row",{staticClass:"pt-2"},[n("b-col",{attrs:{cols:"3"}},[n("b",[e._v("Name")])]),n("b-col",{attrs:{cols:"3"}},[n("b-form-input",{attrs:{type:"text"},model:{value:e.shippingCreationForm.name,callback:function(t){e.$set(e.shippingCreationForm,"name",t)},expression:"shippingCreationForm.name"}})],1),n("b-col",{attrs:{cols:"3"}},[n("b",[e._v("Price")])]),n("b-col",{attrs:{cols:"3"}},[n("b-form-input",{attrs:{type:"number"},model:{value:e.shippingCreationForm.price,callback:function(t){e.$set(e.shippingCreationForm,"price",t)},expression:"shippingCreationForm.price"}})],1)],1)],1)],1)],1)],1)],1)}),$e=[],Ne=(n("4de4"),["ID","name","details"]),Me=["Name","price","delete"],Be={name:"ManagementPanel",data:function(){return{books:[],shippingMethods:[],bookItems:[],bookBaseItems:[],shippingItems:[],fields:Ne,shippingFields:Me,booksLoaded:!1,shippingMethodsLoaded:!1,form:{quantity:null,price:null,discount:null,name:null},bookCreationForm:{name:null,quantity:null,discount:null,unitPrice:null},shippingCreationForm:{name:null,price:null},bookToReserve:null}},mounted:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.parseBooks();case 2:return t.next=4,e.parseShippingMethods();case 4:case"end":return t.stop()}}),t)})))()},methods:{loadBooks:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,N();case 2:n=t.sent,e.books=n;case 4:case"end":return t.stop()}}),t)})))()},loadPrices:function(){return Object(P["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))()},loadDiscounts:function(){return Object(P["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))()},parseBooks:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,i,s,u,l,p,d,m,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.booksLoaded=!1,t.next=3,e.loadBooks();case 3:return e.bookItems=[],t.next=6,e.loadPrices();case 6:return n=t.sent,t.next=9,e.loadDiscounts();case 9:r=t.sent,o=Object(c["a"])(e.books),t.prev=11,o.s();case 13:if((a=o.n()).done){t.next=55;break}i=a.value,s=JSON.parse(JSON.stringify(i)),u=Object(c["a"])(n),t.prev=17,u.s();case 19:if((l=u.n()).done){t.next=26;break}if(p=l.value,p.id!=i.id){t.next=24;break}return s.unitPrice=p.price,t.abrupt("break",26);case 24:t.next=19;break;case 26:t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](17),u.e(t.t0);case 31:return t.prev=31,u.f(),t.finish(31);case 34:d=Object(c["a"])(r),t.prev=35,d.s();case 37:if((m=d.n()).done){t.next=44;break}if(f=m.value,f.id!=i.id){t.next=42;break}return s.discount=100*f.discount,t.abrupt("break",44);case 42:t.next=37;break;case 44:t.next=49;break;case 46:t.prev=46,t.t1=t["catch"](35),d.e(t.t1);case 49:return t.prev=49,d.f(),t.finish(49);case 52:e.bookItems.push(s);case 53:t.next=13;break;case 55:t.next=60;break;case 57:t.prev=57,t.t2=t["catch"](11),o.e(t.t2);case 60:return t.prev=60,o.f(),t.finish(60);case 63:e.bookBaseItems=JSON.parse(JSON.stringify(e.bookItems)),e.booksLoaded=!0;case 65:case"end":return t.stop()}}),t,null,[[11,57,60,63],[17,28,31,34],[35,46,49,52]])})))()},parseShippingMethods:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.shippingMethodsLoaded=!0,t.next=3,J();case 3:e.shippingMethods=t.sent,e.shippingItems=[],n=Object(c["a"])(e.shippingMethods);try{for(n.s();!(r=n.n()).done;)o=r.value,a=JSON.parse(JSON.stringify(o)),e.shippingItems.push({name:a.methodValue,price:a.price})}catch(i){n.e(i)}finally{n.f()}e.shippingMethodsLoaded=!0;case 8:case"end":return t.stop()}}),t)})))()},validBookForm:function(){return!(""===this.bookCreationForm["name"]||""===this.bookCreationForm["quantity"]||""===this.bookCreationForm["discount"]||""===this.bookCreationForm["unitPrice"]||parseInt(this.bookCreationForm["quantity"])<=0||parseInt(this.bookCreationForm["discount"])<0||parseInt(this.bookCreationForm["discount"])>100||parseFloat(this.bookCreationForm["unitPrice"])<0)},validShippingForm:function(){return!(""==this.shippingCreationForm["name"]||this.shippingCreationForm["price"]<0)},bookChangesInvalid:function(e){return e.unitPrice<=0||e.discount<0||e.discount>100||e.quantity<0||""===e.unitPrice||""===e.discount||""===e.quantity||""===e.name},saveBookChanges:function(e){var t=this;return Object(P["a"])(regeneratorRuntime.mark((function n(){var r,o,a,i,s,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.bookBaseItems.indexOf(t.bookBaseItems.find((function(t){return t.id==e.id}))),o=e.unitPrice!=t.bookBaseItems.find((function(t){return t.id==e.id})).unitPrice,a=e.quantity!=t.bookBaseItems.find((function(t){return t.id==e.id})).quantity,i=e.discount!=t.bookBaseItems.find((function(t){return t.id==e.id})).discount,s=e.name!=t.bookBaseItems.find((function(t){return t.id==e.id})).name,c=null,!o){n.next=10;break}return n.next=9,X(e);case 9:c=n.sent;case 10:if(!a&&!s){n.next=14;break}return n.next=13,K(e);case 13:c=n.sent;case 14:if(!i){n.next=18;break}return n.next=17,te(e);case 17:c=n.sent;case 18:200===c.status?t.$bvToast.toast("Changes saved correctly!",{title:"Book changes",autoHideDelay:5e3,appendToast:!0}):t.$bvToast.toast("Failed to save changes!",{title:"Book changes",autoHideDelay:5e3,appendToast:!0}),t.bookBaseItems[r]=e,t.bookItems=JSON.parse(JSON.stringify(t.bookItems));case 21:case"end":return n.stop()}}),n)})))()},openBookCreationForm:function(){this.bookCreationForm.name="DefaultName",this.bookCreationForm.unitPrice=49,this.bookCreationForm.quantity=1,this.bookCreationForm.discount=0,this.$bvModal.show("book-creation-modal")},closeBookCreationForm:function(){this.$bvModal.hide("book-creation-modal")},createBook:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Y(e.bookCreationForm);case 2:n=t.sent,200===n.status?e.$bvToast.toast("Book created correctly!",{title:"Book changes",autoHideDelay:5e3,appendToast:!0}):e.$bvToast.toast("Failed to create book!",{title:"Book changes",autoHideDelay:5e3,appendToast:!0}),e.parseBooks(),e.closeBookCreationForm();case 6:case"end":return t.stop()}}),t)})))()},openShippingCreationForm:function(){this.shippingCreationForm.name="ShippingName",this.shippingCreationForm.price=14,this.$bvModal.show("shipping-creation-modal")},closeShippingCreationForm:function(){this.$bvModal.hide("shipping-creation-modal")},createShipping:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,V(e.shippingCreationForm);case 2:return n=t.sent,200===n.status?e.$bvToast.toast("Created shipping method correctly!",{title:"Shipping changes",autoHideDelay:5e3,appendToast:!0}):e.$bvToast.toast("Failed to create shipping method!",{title:"Shipping changes",autoHideDelay:5e3,appendToast:!0}),t.next=6,e.parseShippingMethods();case 6:e.closeShippingCreationForm(),e.shippingItems=JSON.parse(JSON.stringify(e.shippingItems));case 8:case"end":return t.stop()}}),t)})))()},deleteShipping:function(e){var t=this;return Object(P["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,W(e);case 2:return r=n.sent,200===r.status?t.$bvToast.toast("Deleted shipping method correctly!",{title:"Shipping changes",autoHideDelay:5e3,appendToast:!0}):t.$bvToast.toast("Failed to delete shipping method!",{title:"Shipping changes",autoHideDelay:5e3,appendToast:!0}),n.next=6,t.parseShippingMethods();case 6:t.shippingItems=t.shippingItems.filter((function(t){return t.name!=e.name})),t.shippingItems=JSON.parse(JSON.stringify(t.shippingItems));case 8:case"end":return n.stop()}}),n)})))()}}},qe=Be,Le=Object(d["a"])(qe,De,$e,!1,null,"01af19c8",null);Le.exports;r["default"].use(k["a"]);var Ae=[{path:"/",name:"Home",component:_},{path:"/sensors",name:"Sensors",component:ke},{path:"/dashboard",name:"Dashboard",component:Se}],Je=new k["a"]({routes:Ae}),He=Je,ze=n("5f5b");n("4989"),n("f9e3"),n("2dd8");r["default"].config.productionTip=!1,r["default"].use(ze["a"]),r["default"].prototype.$orders=[],r["default"].prototype.$confirmedOrders=[],r["default"].prototype.$paidOrders=[],new r["default"]({router:He,render:function(e){return e(g)}}).$mount("#app")},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.f277d66d.js.map